/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => ProjectTasks
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");
var DEBUG = true;
var BLOCK_BOUNDARY = /^#+\s/;
var DEFAULT_SETTINGS = {
  idPrefixMethod: "1" /* UsePrefix */,
  projectPrefix: "prj",
  randomIDLength: 6,
  sequentialStartNumber: 1,
  removeVowels: false,
  firstLettersOfWords: false,
  automaticTagName: "Project",
  nestedTaskBehavior: "1" /* ParallelExecution */
};
var ProjectTasks = class extends import_obsidian.Plugin {
  async onload() {
    if (DEBUG)
      console.log("Project Tasks starting");
    await this.loadSettings();
    this.addCommand({
      id: "set-ids",
      name: "Set project ids on Selection",
      editorCallback: (editor, view) => {
        let sel = editor.getSelection();
        let lines = this.addTaskIDs(sel, this.getPrefix(editor, view));
        editor.replaceSelection(
          `${lines}`
        );
      }
    });
    this.addCommand({
      id: "clear-ids",
      name: "Clear project ids on Selection",
      editorCallback: (editor, view) => {
        let sel = editor.getSelection();
        let lines = this.clearBlockIDs(sel);
        editor.replaceSelection(
          `${lines}`
        );
      }
    });
    this.addCommand({
      id: "set-ids-block",
      name: "Set project ids on Block",
      editorCallback: (editor, view) => {
        this.blockUpdate(editor, this.getPrefix(editor, view), true);
      }
    });
    this.addCommand({
      id: "clear-ids-block",
      name: "Clear project ids on Block",
      editorCallback: (editor, view) => {
        this.blockUpdate(editor, this.getPrefix(editor, view), false);
      }
    });
    this.addCommand({
      id: "add-project-task-list",
      name: "Add active project task list",
      editorCallback: (editor, view) => {
        this.addActiveProjectList(editor);
      }
    });
    this.addSettingTab(new ProjectTasksSettingsTab(this.app, this));
  }
  addActiveProjectList(editor) {
    const active_tasks_view = `\`\`\`tasks
tags includes #${this.settings.automaticTagName}
not done
hide backlink
is not blocked
\`\`\``;
    editor.replaceSelection(active_tasks_view);
  }
  blockUpdate(editor, prefix, add_ids) {
    const cursor = editor.getCursor();
    const line = editor.getLine(cursor.line);
    let blockStart = this.getBlockStart(editor);
    let blockEnd = this.getBlockEnd(editor);
    let last_line_length = editor.getLine(blockEnd + 1).length;
    const blockContent = editor.getRange({ line: blockStart, ch: 0 }, { line: blockEnd, ch: last_line_length });
    if (DEBUG)
      console.log(`Start ${blockStart}, End ${blockEnd}, last length ${last_line_length}
Orig: ${blockContent}`);
    let lines;
    if (add_ids) {
      lines = this.addTaskIDs(blockContent, prefix);
    } else {
      lines = this.clearBlockIDs(blockContent);
    }
    if (DEBUG)
      console.log(`Start ${blockStart}, End ${blockEnd}, last length ${last_line_length}
Orig: ${blockContent}
New: ${lines}`);
    editor.replaceRange(lines, { line: blockStart, ch: 0 }, { line: blockEnd, ch: last_line_length });
  }
  getBlockEnd(editor) {
    let blockEnd = editor.getCursor().line;
    while (!BLOCK_BOUNDARY.test(editor.getLine(blockEnd))) {
      blockEnd++;
      if (blockEnd > editor.lineCount() - 1)
        return blockEnd;
    }
    return blockEnd;
  }
  getBlockStart(editor) {
    let blockStart = editor.getCursor().line;
    while (blockStart > 0 && !BLOCK_BOUNDARY.test(editor.getLine(blockStart - 1))) {
      blockStart--;
    }
    return blockStart;
  }
  generateRandomDigits(length) {
    const digits = "0123456789";
    let randomString = "";
    for (let i = 0; i < length; i++) {
      const randomIndex = Math.floor(Math.random() * digits.length);
      randomString += digits[randomIndex];
    }
    return randomString;
  }
  clearBlockIDs(sel) {
    let remove_id = /\h?ðŸ†”\s\w+\h*/g;
    sel = sel.replaceAll(remove_id, "");
    let remove_block = /\h?â›”\s\w+\h*/g;
    sel = sel.replaceAll(remove_block, "");
    if (this.settings.automaticTagName) {
      let remove_tag = new RegExp("^(\\s*-\\s\\[[ x\\-\\/]]\\s.*)(#" + this.settings.automaticTagName + ")(.*)$", "mg");
      sel = sel.replaceAll(remove_tag, "$1 $3");
    }
    return sel;
  }
  getPrefix(editor, view) {
    let raw_prefix;
    switch (this.settings.idPrefixMethod) {
      case "1" /* UsePrefix */: {
        raw_prefix = this.settings.projectPrefix;
        break;
      }
      case "3" /* FileName */: {
        raw_prefix = this.getFilename(view);
        break;
      }
      case "2" /* SectionName */: {
        let section_start = this.getBlockStart(editor);
        let section_line;
        if (section_start == 0) {
          section_line = "";
        } else {
          section_line = editor.getLine(section_start - 1);
        }
        if (DEBUG)
          console.log("Prefix check .. Found section: ", section_start, section_line);
        if (BLOCK_BOUNDARY.test(section_line)) {
          raw_prefix = section_line;
        } else {
          raw_prefix = this.getFilename(view);
        }
        break;
      }
    }
    return this.getPrefixFromString(raw_prefix);
  }
  getFilename(view) {
    var _a;
    if (!((_a = view.file) == null ? void 0 : _a.name)) {
      return this.settings.projectPrefix;
    } else {
      return view.file.name.split(".")[0];
    }
  }
  getPrefixFromString(text) {
    text = text.replaceAll(/[#\[\]]/g, "");
    if (this.settings.firstLettersOfWords) {
      let words = text.split(/\s+/);
      if (DEBUG)
        console.log("found words", words);
      text = "";
      for (let word of words) {
        if (word) {
          text = `${text}${word[0].toUpperCase()}`;
        }
      }
    }
    text = text.replaceAll(" ", "");
    if (this.settings.removeVowels) {
      text = text.replaceAll(/[aeiou]/g, "");
    }
    return text;
  }
  addTaskIDs(sel, prefix) {
    const regex = /^(\s*-\s\[[ x\-\/]\]\s)?(.*)$/mg;
    sel = this.clearBlockIDs(sel);
    if (DEBUG)
      console.log(`Replaced ids and blocks to give: ${sel}`);
    const matches = sel.matchAll(regex);
    let lines = "";
    let first = true;
    let idx = 0;
    let this_id;
    let last_id;
    for (const match of matches) {
      if (!first) {
        lines += "\n";
      }
      if (match[1]) {
        let this_line;
        if (this.settings.idPrefixMethod == "1" /* UsePrefix */) {
          this_id = this.generateRandomDigits(this.settings.randomIDLength);
        } else {
          this_id = `${idx + this.settings.sequentialStartNumber}`;
        }
        this_line = `${match[1]}${match[2].trim()} \u{1F194} ${prefix}${this_id}`;
        if (idx > 0) {
          this_line += ` \u26D4 ${prefix}${last_id}`;
        }
        if (this.settings.automaticTagName) {
          this_line += ` #${this.settings.automaticTagName}`;
        }
        lines += this_line;
        idx += 1;
        last_id = this_id;
      } else {
        lines += `${match[2].trim()}`;
      }
      first = false;
    }
    return lines;
  }
  onunload() {
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};
var ProjectTasksSettingsTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    new import_obsidian.Setting(containerEl).setName("Project ID method").setDesc("Choose how the ID will be determined").addDropdown((dropDown) => {
      dropDown.addOption("1", "Use prefix");
      dropDown.addOption("2", "Use Section name");
      dropDown.addOption("3", "Use filename").setValue(this.plugin.settings.idPrefixMethod).onChange(async (value) => {
        this.plugin.settings.idPrefixMethod = value;
        await this.plugin.saveSettings();
      });
    });
    new import_obsidian.Setting(containerEl).setName("Project ID prefix").setDesc("Prefix to use when creating an ID for a task").addText((text) => text.setPlaceholder("ID prefix").setValue(this.plugin.settings.projectPrefix).onChange(async (value) => {
      this.plugin.settings.projectPrefix = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Length of random ID number").setDesc("How many digits to use for random ID when using a fixed prefix").addSlider((text) => text.setValue(this.plugin.settings.randomIDLength).setLimits(3, 6, 1).setDynamicTooltip().onChange(async (value) => {
      this.plugin.settings.randomIDLength = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Initial sequential ID number").setDesc("Start number for sequential ID's").addSlider((text) => text.setValue(this.plugin.settings.sequentialStartNumber).setLimits(0, 1, 1).setDynamicTooltip().onChange(async (value) => {
      this.plugin.settings.sequentialStartNumber = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Remove vowels").setDesc("Remove vowels from the prefix when getting from the filename or block name").addToggle((text) => text.setValue(this.plugin.settings.removeVowels).onChange(async (value) => {
      this.plugin.settings.removeVowels = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("First letter of words").setDesc("Only use the first letter of words to form the prefix").addToggle((text) => text.setValue(this.plugin.settings.firstLettersOfWords).onChange(async (value) => {
      this.plugin.settings.firstLettersOfWords = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Automatically add Tag").setDesc("A tag to add to each task - do not include the # symbol").addText((text) => text.setValue(this.plugin.settings.automaticTagName).setPlaceholder("Tag Name").onChange(async (value) => {
      this.plugin.settings.automaticTagName = value.replaceAll("#", "");
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Nested tags behaviour").setDesc("Determines whether nested tags will create parallel execution tags or sequential").addDropdown((dropDown) => {
      dropDown.addOption("1", "Parallel Execution");
      dropDown.addOption("2", "Sequential Execution").setValue(this.plugin.settings.nestedTaskBehavior).onChange(async (value) => {
        this.plugin.settings.nestedTaskBehavior = value;
        await this.plugin.saveSettings();
      });
    });
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHtcbiAgICBBcHAsXG4gICAgRWRpdG9yLFxuICAgIEVkaXRvclBvc2l0aW9uLCBNYXJrZG93bkZpbGVJbmZvLFxuICAgIE1hcmtkb3duVmlldyxcbiAgICBNb2RhbCxcbiAgICBOb3RpY2UsXG4gICAgUGx1Z2luLFxuICAgIFBsdWdpblNldHRpbmdUYWIsXG4gICAgU2V0dGluZyxcbiAgICBWaWV3XG59IGZyb20gJ29ic2lkaWFuJztcblxuLy8gVHVybiBvbiB0byBhbGxvdyBkZWJ1Z2dpbmcgaW4gdGhlIGNvbnNvbGVcbmNvbnN0IERFQlVHID0gdHJ1ZTtcbi8vIFJlZ2V4IGZvciBibG9jayBib3VuZGFyeVxuY29uc3QgQkxPQ0tfQk9VTkRBUlkgPSAvXiMrXFxzLztcblxuXG5cbmVudW0gUHJlZml4TWV0aG9kIHtcbiAgICBVc2VQcmVmaXg9ICcxJyxcbiAgICBTZWN0aW9uTmFtZSA9ICcyJyxcbiAgICBGaWxlTmFtZSA9ICczJ1xufVxuXG5lbnVtIE5lc3RpbmdCZWhhdmlvdXIge1xuICAgIFBhcmFsbGVsRXhlY3V0aW9uID0gJzEnLFxuICAgIFNlcXVlbnRpYWxFeGVjdXRpb24gPSAnMicsXG59XG5cbmludGVyZmFjZSBQcm9qZWN0VGFza3NTZXR0aW5ncyB7XG4gICAgaWRQcmVmaXhNZXRob2Q6IFByZWZpeE1ldGhvZDtcbiAgICBwcm9qZWN0UHJlZml4OiBzdHJpbmc7XG4gICAgcmFuZG9tSURMZW5ndGg6IG51bWJlcjtcbiAgICBzZXF1ZW50aWFsU3RhcnROdW1iZXI6IG51bWJlcjtcbiAgICByZW1vdmVWb3dlbHM6IGJvb2xlYW47XG4gICAgZmlyc3RMZXR0ZXJzT2ZXb3JkczogYm9vbGVhbjtcbiAgICBhdXRvbWF0aWNUYWdOYW1lOiBzdHJpbmc7XG4gICAgbmVzdGVkVGFza0JlaGF2aW9yOiBOZXN0aW5nQmVoYXZpb3VyO1xuXG59XG5cbmNvbnN0IERFRkFVTFRfU0VUVElOR1M6IFByb2plY3RUYXNrc1NldHRpbmdzID0ge1xuICAgIGlkUHJlZml4TWV0aG9kOiBQcmVmaXhNZXRob2QuVXNlUHJlZml4LFxuICAgIHByb2plY3RQcmVmaXg6ICdwcmonLFxuICAgIHJhbmRvbUlETGVuZ3RoOiA2LFxuICAgIHNlcXVlbnRpYWxTdGFydE51bWJlcjogMSxcbiAgICByZW1vdmVWb3dlbHM6IGZhbHNlLFxuICAgIGZpcnN0TGV0dGVyc09mV29yZHM6IGZhbHNlLFxuICAgIGF1dG9tYXRpY1RhZ05hbWU6IFwiUHJvamVjdFwiLFxuICAgIG5lc3RlZFRhc2tCZWhhdmlvcjogTmVzdGluZ0JlaGF2aW91ci5QYXJhbGxlbEV4ZWN1dGlvbixcbn1cblxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcm9qZWN0VGFza3MgZXh0ZW5kcyBQbHVnaW4ge1xuICAgIHNldHRpbmdzOiBQcm9qZWN0VGFza3NTZXR0aW5ncztcblxuICAgIGFzeW5jIG9ubG9hZCgpIHtcbiAgICAgICAgaWYgKERFQlVHKSBjb25zb2xlLmxvZygnUHJvamVjdCBUYXNrcyBzdGFydGluZycpO1xuXG4gICAgICAgIGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XG5cbiAgICAgICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgICAgICAgIGlkOiBcInNldC1pZHNcIixcbiAgICAgICAgICAgIG5hbWU6IFwiU2V0IHByb2plY3QgaWRzIG9uIFNlbGVjdGlvblwiLFxuICAgICAgICAgICAgZWRpdG9yQ2FsbGJhY2s6IChlZGl0b3IsIHZpZXcpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgc2VsID0gZWRpdG9yLmdldFNlbGVjdGlvbigpO1xuICAgICAgICAgICAgICAgIGxldCBsaW5lcyA9IHRoaXMuYWRkVGFza0lEcyhzZWwsIHRoaXMuZ2V0UHJlZml4KGVkaXRvciwgdmlldykpO1xuICAgICAgICAgICAgICAgIGVkaXRvci5yZXBsYWNlU2VsZWN0aW9uKFxuICAgICAgICAgICAgICAgICAgICBgJHtsaW5lc31gXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgICAgICAgIGlkOiBcImNsZWFyLWlkc1wiLFxuICAgICAgICAgICAgbmFtZTogXCJDbGVhciBwcm9qZWN0IGlkcyBvbiBTZWxlY3Rpb25cIixcbiAgICAgICAgICAgIGVkaXRvckNhbGxiYWNrOiAoZWRpdG9yLCB2aWV3KSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IHNlbCA9IGVkaXRvci5nZXRTZWxlY3Rpb24oKTtcbiAgICAgICAgICAgICAgICBsZXQgbGluZXMgPSB0aGlzLmNsZWFyQmxvY2tJRHMoc2VsKTtcbiAgICAgICAgICAgICAgICBlZGl0b3IucmVwbGFjZVNlbGVjdGlvbihcbiAgICAgICAgICAgICAgICAgICAgYCR7bGluZXN9YFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICAgICAgICBpZDogXCJzZXQtaWRzLWJsb2NrXCIsXG4gICAgICAgICAgICBuYW1lOiBcIlNldCBwcm9qZWN0IGlkcyBvbiBCbG9ja1wiLFxuICAgICAgICAgICAgZWRpdG9yQ2FsbGJhY2s6IChlZGl0b3IsIHZpZXcpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmJsb2NrVXBkYXRlKGVkaXRvciwgdGhpcy5nZXRQcmVmaXgoZWRpdG9yLCB2aWV3KSwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgICAgICAgIGlkOiBcImNsZWFyLWlkcy1ibG9ja1wiLFxuICAgICAgICAgICAgbmFtZTogXCJDbGVhciBwcm9qZWN0IGlkcyBvbiBCbG9ja1wiLFxuICAgICAgICAgICAgZWRpdG9yQ2FsbGJhY2s6IChlZGl0b3IsIHZpZXcpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmJsb2NrVXBkYXRlKGVkaXRvciwgdGhpcy5nZXRQcmVmaXgoZWRpdG9yLCB2aWV3KSwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICAgICAgICBpZDogXCJhZGQtcHJvamVjdC10YXNrLWxpc3RcIixcbiAgICAgICAgICAgIG5hbWU6IFwiQWRkIGFjdGl2ZSBwcm9qZWN0IHRhc2sgbGlzdFwiLFxuICAgICAgICAgICAgZWRpdG9yQ2FsbGJhY2s6IChlZGl0b3IsIHZpZXcpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZEFjdGl2ZVByb2plY3RMaXN0KGVkaXRvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgLy8gVGhpcyBhZGRzIGEgc2V0dGluZ3MgdGFiIHNvIHRoZSB1c2VyIGNhbiBjb25maWd1cmUgdmFyaW91cyBhc3BlY3RzIG9mIHRoZSBwbHVnaW5cbiAgICAgICAgdGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBQcm9qZWN0VGFza3NTZXR0aW5nc1RhYih0aGlzLmFwcCwgdGhpcykpO1xuXG4gICAgfVxuXG4gICAgYWRkQWN0aXZlUHJvamVjdExpc3QoZWRpdG9yOiBFZGl0b3IpIHtcbiAgICAgICAgLy8gQSB2aWV3IHRvIHNob3cgYWN0aXZlIHRhc2tzXG4gICAgICAgIGNvbnN0IGFjdGl2ZV90YXNrc192aWV3ID0gYFxcYFxcYFxcYHRhc2tzXG50YWdzIGluY2x1ZGVzICMke3RoaXMuc2V0dGluZ3MuYXV0b21hdGljVGFnTmFtZX1cbm5vdCBkb25lXG5oaWRlIGJhY2tsaW5rXG5pcyBub3QgYmxvY2tlZFxuXFxgXFxgXFxgYDtcbiAgICAgICAgZWRpdG9yLnJlcGxhY2VTZWxlY3Rpb24oYWN0aXZlX3Rhc2tzX3ZpZXcpO1xuICAgIH1cblxuICAgIGJsb2NrVXBkYXRlKGVkaXRvcjogRWRpdG9yLCBwcmVmaXg6IHN0cmluZywgYWRkX2lkczogYm9vbGVhbikge1xuICAgICAgICBjb25zdCBjdXJzb3IgPSBlZGl0b3IuZ2V0Q3Vyc29yKCk7XG4gICAgICAgIGNvbnN0IGxpbmUgPSBlZGl0b3IuZ2V0TGluZShjdXJzb3IubGluZSk7XG5cbiAgICAgICAgLy8gR2V0IHRoZSBibG9jayBib3VuZGFyaWVzXG4gICAgICAgIGxldCBibG9ja1N0YXJ0ID0gdGhpcy5nZXRCbG9ja1N0YXJ0KGVkaXRvcik7XG4gICAgICAgIGxldCBibG9ja0VuZCA9IHRoaXMuZ2V0QmxvY2tFbmQoZWRpdG9yKTtcbiAgICAgICAgbGV0IGxhc3RfbGluZV9sZW5ndGggPSBlZGl0b3IuZ2V0TGluZShibG9ja0VuZCArIDEpLmxlbmd0aDtcblxuICAgICAgICBjb25zdCBibG9ja0NvbnRlbnQgPSBlZGl0b3IuZ2V0UmFuZ2UoeyBsaW5lOiBibG9ja1N0YXJ0LCBjaDogMCB9LCB7IGxpbmU6IGJsb2NrRW5kLCBjaDogbGFzdF9saW5lX2xlbmd0aCB9KTtcbiAgICAgICAgaWYgKERFQlVHKSBjb25zb2xlLmxvZyhgU3RhcnQgJHtibG9ja1N0YXJ0fSwgRW5kICR7YmxvY2tFbmR9LCBsYXN0IGxlbmd0aCAke2xhc3RfbGluZV9sZW5ndGh9XFxuT3JpZzogJHtibG9ja0NvbnRlbnR9YCk7XG5cbiAgICAgICAgbGV0IGxpbmVzO1xuICAgICAgICBpZiAoYWRkX2lkcykge1xuICAgICAgICAgICAgbGluZXMgPSB0aGlzLmFkZFRhc2tJRHMoYmxvY2tDb250ZW50LCBwcmVmaXgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGluZXMgPSB0aGlzLmNsZWFyQmxvY2tJRHMoYmxvY2tDb250ZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChERUJVRykgY29uc29sZS5sb2coYFN0YXJ0ICR7YmxvY2tTdGFydH0sIEVuZCAke2Jsb2NrRW5kfSwgbGFzdCBsZW5ndGggJHtsYXN0X2xpbmVfbGVuZ3RofVxcbk9yaWc6ICR7YmxvY2tDb250ZW50fVxcbk5ldzogJHtsaW5lc31gKTtcbiAgICAgICAgZWRpdG9yLnJlcGxhY2VSYW5nZShsaW5lcywgeyBsaW5lOiBibG9ja1N0YXJ0LCBjaDogMCB9LCB7IGxpbmU6IGJsb2NrRW5kLCBjaDogbGFzdF9saW5lX2xlbmd0aCB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldEJsb2NrRW5kKGVkaXRvcjogRWRpdG9yKSB7XG4gICAgICAgIC8vIEZpbmQgdGhlIGVuZCBvZiB0aGUgYmxvY2tcbiAgICAgICAgbGV0IGJsb2NrRW5kID0gZWRpdG9yLmdldEN1cnNvcigpLmxpbmU7XG4gICAgICAgIHdoaWxlICghQkxPQ0tfQk9VTkRBUlkudGVzdChlZGl0b3IuZ2V0TGluZShibG9ja0VuZCkpKSB7XG4gICAgICAgICAgICBibG9ja0VuZCsrO1xuICAgICAgICAgICAgaWYgKGJsb2NrRW5kID4gZWRpdG9yLmxpbmVDb3VudCgpIC0gMSkgcmV0dXJuIGJsb2NrRW5kO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBibG9ja0VuZDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldEJsb2NrU3RhcnQoZWRpdG9yOiBFZGl0b3IpIHtcbiAgICAgICAgLy8gRmluZCB0aGUgc3RhcnQgb2YgdGhlIGJsb2NrXG4gICAgICAgIGxldCBibG9ja1N0YXJ0ID0gZWRpdG9yLmdldEN1cnNvcigpLmxpbmU7XG4gICAgICAgIHdoaWxlIChibG9ja1N0YXJ0ID4gMCAmJiAhQkxPQ0tfQk9VTkRBUlkudGVzdChlZGl0b3IuZ2V0TGluZShibG9ja1N0YXJ0IC0gMSkpKSB7XG4gICAgICAgICAgICBibG9ja1N0YXJ0LS07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJsb2NrU3RhcnQ7XG4gICAgfVxuXG4gICAgZ2VuZXJhdGVSYW5kb21EaWdpdHMobGVuZ3RoOiBudW1iZXIpOiBzdHJpbmcge1xuICAgICAgY29uc3QgZGlnaXRzID0gJzAxMjM0NTY3ODknO1xuICAgICAgbGV0IHJhbmRvbVN0cmluZyA9ICcnO1xuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHJhbmRvbUluZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogZGlnaXRzLmxlbmd0aCk7XG4gICAgICAgIHJhbmRvbVN0cmluZyArPSBkaWdpdHNbcmFuZG9tSW5kZXhdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmFuZG9tU3RyaW5nO1xuICAgIH1cblxuICAgIGNsZWFyQmxvY2tJRHMoc2VsOiBzdHJpbmcpIHtcbiAgICAgICAgLy8gUmVtb3ZlIGV4aXN0aW5nIElEJ3NcbiAgICAgICAgbGV0IHJlbW92ZV9pZCA9IC9cXGg/XHVEODNDXHVERDk0XFxzXFx3K1xcaCovZztcbiAgICAgICAgc2VsID0gc2VsLnJlcGxhY2VBbGwocmVtb3ZlX2lkLCAnJyk7XG5cbiAgICAgICAgLy8gUmVtb3ZlIGV4aXN0aW5nIEJsb2Nrc1xuICAgICAgICBsZXQgcmVtb3ZlX2Jsb2NrID0gL1xcaD9cdTI2RDRcXHNcXHcrXFxoKi9nO1xuICAgICAgICBzZWwgPSBzZWwucmVwbGFjZUFsbChyZW1vdmVfYmxvY2ssICcnKTtcblxuICAgICAgICAvLyBSZW1vdmUgZXhpc3RpbmcgdGFnc1xuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5hdXRvbWF0aWNUYWdOYW1lKSB7XG4gICAgICAgICAgICBsZXQgcmVtb3ZlX3RhZyA9IG5ldyBSZWdFeHAoXCJeKFxcXFxzKi1cXFxcc1xcXFxbWyB4XFxcXC1cXFxcL11cXF1cXFxccy4qKSgjXCIgKyB0aGlzLnNldHRpbmdzLmF1dG9tYXRpY1RhZ05hbWUgKyBcIikoLiopJFwiLCBcIm1nXCIpO1xuICAgICAgICAgICAgc2VsID0gc2VsLnJlcGxhY2VBbGwocmVtb3ZlX3RhZywgJyQxICQzJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc2VsO1xuICAgIH1cblxuICAgIGdldFByZWZpeChlZGl0b3I6IEVkaXRvciwgdmlldzogTWFya2Rvd25GaWxlSW5mbykge1xuICAgICAgICBsZXQgcmF3X3ByZWZpeDtcbiAgICAgICAgc3dpdGNoICh0aGlzLnNldHRpbmdzLmlkUHJlZml4TWV0aG9kKSB7XG4gICAgICAgICAgICBjYXNlIFByZWZpeE1ldGhvZC5Vc2VQcmVmaXg6IHtcbiAgICAgICAgICAgICAgICByYXdfcHJlZml4ID0gdGhpcy5zZXR0aW5ncy5wcm9qZWN0UHJlZml4O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBQcmVmaXhNZXRob2QuRmlsZU5hbWU6IHtcbiAgICAgICAgICAgICAgICByYXdfcHJlZml4ID0gdGhpcy5nZXRGaWxlbmFtZSh2aWV3KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgUHJlZml4TWV0aG9kLlNlY3Rpb25OYW1lOiB7XG4gICAgICAgICAgICAgICAgLy8gVHJ5IHRvIGZpbmQgdGhlIG5hbWUgb2YgdGhlIGJsb2NrIHRoYXQgY29udGFpbnMgdGhlIGN1cnNvciBvciB0aGUgc2VsZWN0aW9uXG4gICAgICAgICAgICAgICAgbGV0IHNlY3Rpb25fc3RhcnQgPSB0aGlzLmdldEJsb2NrU3RhcnQoZWRpdG9yKTtcbiAgICAgICAgICAgICAgICBsZXQgc2VjdGlvbl9saW5lO1xuICAgICAgICAgICAgICAgIGlmIChzZWN0aW9uX3N0YXJ0ID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgc2VjdGlvbl9saW5lID0gXCJcIjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzZWN0aW9uX2xpbmUgPSBlZGl0b3IuZ2V0TGluZShzZWN0aW9uX3N0YXJ0LTEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoREVCVUcpIGNvbnNvbGUubG9nKCdQcmVmaXggY2hlY2sgLi4gRm91bmQgc2VjdGlvbjogJywgc2VjdGlvbl9zdGFydCwgc2VjdGlvbl9saW5lKTtcblxuICAgICAgICAgICAgICAgIC8vIElzIHRoZXJlIGEgYmxvY2sgYXQgYWxsIG9yIGFyZSB3ZSBqdXN0IGluIGEgZmlsZSB3aXRoIG5vIGJsb2Nrc1xuICAgICAgICAgICAgICAgIGlmIChCTE9DS19CT1VOREFSWS50ZXN0KHNlY3Rpb25fbGluZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmF3X3ByZWZpeCA9IHNlY3Rpb25fbGluZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBSZXR1cm4gdGhlIGZpbGVuYW1lIGFueXdheVxuICAgICAgICAgICAgICAgICAgICByYXdfcHJlZml4ID0gdGhpcy5nZXRGaWxlbmFtZSh2aWV3KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UHJlZml4RnJvbVN0cmluZyhyYXdfcHJlZml4KTtcbiAgICB9XG5cbiAgICBnZXRGaWxlbmFtZSh2aWV3OiBNYXJrZG93bkZpbGVJbmZvKSB7XG4gICAgICAgaWYgKCF2aWV3LmZpbGU/Lm5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLnByb2plY3RQcmVmaXg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdmlldy5maWxlLm5hbWUuc3BsaXQoJy4nKVswXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldFByZWZpeEZyb21TdHJpbmcodGV4dDogc3RyaW5nKSB7XG4gICAgICAgIC8vIFJlbW92ZSBhbnkgc3BlY2lhbCBzaWduc1xuICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlQWxsKC9bI1xcW1xcXV0vZywgJycpO1xuICAgICAgICAvLyBPbmx5IHVzZSB0aGUgZmlyc3QgbGV0dGVycyBvZiB3b3JkcyBpZiBuZWVkZWRcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuZmlyc3RMZXR0ZXJzT2ZXb3Jkcykge1xuICAgICAgICAgICAgbGV0IHdvcmRzID0gdGV4dC5zcGxpdCgvXFxzKy8pO1xuICAgICAgICAgICAgaWYgKERFQlVHKSBjb25zb2xlLmxvZyhcImZvdW5kIHdvcmRzXCIsIHdvcmRzKTtcbiAgICAgICAgICAgIHRleHQgPSBcIlwiO1xuICAgICAgICAgICAgZm9yIChsZXQgd29yZCBvZiB3b3Jkcykge1xuICAgICAgICAgICAgICAgIGlmICh3b3JkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRleHQgPSBgJHt0ZXh0fSR7d29yZFswXS50b1VwcGVyQ2FzZSgpfWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFJlbW92ZSBzcGFjZXNcbiAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZUFsbCgnICcsICcnKTtcbiAgICAgICAgLy8gUmVtb3ZlIHZvd2VscyBpZiBuZWVkZWRcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MucmVtb3ZlVm93ZWxzKSB7XG4gICAgICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlQWxsKC9bYWVpb3VdL2csICcnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGV4dDtcbiAgICB9XG5cbiAgICBhZGRUYXNrSURzKHNlbDogc3RyaW5nLCBwcmVmaXg6IHN0cmluZykge1xuICAgICAgICBjb25zdCByZWdleCA9IC9eKFxccyotXFxzXFxbWyB4XFwtXFwvXVxcXVxccyk/KC4qKSQvbWc7XG5cbiAgICAgICAgLy8gQ2xlYXIgYWxsIHRoZSBleGlzdGluZyBibG9jayBhbmQgcHJvamVjdCBJRCdzXG4gICAgICAgIHNlbCA9IHRoaXMuY2xlYXJCbG9ja0lEcyhzZWwpO1xuXG4gICAgICAgIGlmIChERUJVRykgY29uc29sZS5sb2coYFJlcGxhY2VkIGlkcyBhbmQgYmxvY2tzIHRvIGdpdmU6ICR7c2VsfWApO1xuXG4gICAgICAgIGNvbnN0IG1hdGNoZXMgPSBzZWwubWF0Y2hBbGwocmVnZXgpO1xuICAgICAgICBsZXQgbGluZXMgPSBcIlwiO1xuICAgICAgICBsZXQgZmlyc3QgPSB0cnVlO1xuICAgICAgICBsZXQgaWR4ID0gMDtcbiAgICAgICAgbGV0IHRoaXNfaWQ7XG4gICAgICAgIGxldCBsYXN0X2lkO1xuXG4gICAgICAgIC8vIEdvIHRocm91Z2ggYWxsIHRoZSBsaW5lcyBhbmQgYWRkIGFwcHJvcHJpYXRlIElEIGFuZCBibG9jayB0YWdzXG4gICAgICAgIGZvciAoY29uc3QgbWF0Y2ggb2YgbWF0Y2hlcykge1xuICAgICAgICAgICAgaWYgKCFmaXJzdCkge1xuICAgICAgICAgICAgICAgIGxpbmVzICs9IFwiXFxuXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJcyB0aGlzIGEgdGFzayBsaW5lIGF0IGFsbD9cbiAgICAgICAgICAgIGlmIChtYXRjaFsxXSkge1xuICAgICAgICAgICAgICAgIGxldCB0aGlzX2xpbmU7XG4gICAgICAgICAgICAgICAgLy8gR2V0IGFuIGlkIHRvIHVzZVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmlkUHJlZml4TWV0aG9kID09IFByZWZpeE1ldGhvZC5Vc2VQcmVmaXgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpc19pZCA9IHRoaXMuZ2VuZXJhdGVSYW5kb21EaWdpdHModGhpcy5zZXR0aW5ncy5yYW5kb21JRExlbmd0aCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpc19pZCA9IGAke2lkeCArIHRoaXMuc2V0dGluZ3Muc2VxdWVudGlhbFN0YXJ0TnVtYmVyfWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEFkZCB0aGUgaWQgaW50byB0aGVyZVxuICAgICAgICAgICAgICAgIHRoaXNfbGluZSA9IGAke21hdGNoWzFdfSR7bWF0Y2hbMl0udHJpbSgpfSBcdUQ4M0NcdUREOTQgJHtwcmVmaXh9JHt0aGlzX2lkfWA7XG4gICAgICAgICAgICAgICAgaWYgKGlkeCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQWRkIHRoZSBibG9ja3MgYWZ0ZXIgdGhlIHZlcnkgZmlyc3QgdGFza1xuICAgICAgICAgICAgICAgICAgICB0aGlzX2xpbmUgKz0gYCBcdTI2RDQgJHtwcmVmaXh9JHtsYXN0X2lkfWA7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gQWRkIGFuIGF1dG9tYXRpYyB0YWcgaWYgd2UgbmVlZCBpdFxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmF1dG9tYXRpY1RhZ05hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpc19saW5lICs9IGAgIyR7dGhpcy5zZXR0aW5ncy5hdXRvbWF0aWNUYWdOYW1lfWA7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gQXBwZW5kIHRoaXMgbGluZVxuICAgICAgICAgICAgICAgIGxpbmVzICs9IHRoaXNfbGluZTtcbiAgICAgICAgICAgICAgICBpZHggKz0gMTtcbiAgICAgICAgICAgICAgICBsYXN0X2lkID0gdGhpc19pZDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gTm90IGEgdGFzayBsaW5lIHNvIGp1c3Qga2VlcCBpdCBhcyBpc1xuICAgICAgICAgICAgICAgIGxpbmVzICs9IGAke21hdGNoWzJdLnRyaW0oKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmlyc3QgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGluZXM7XG4gICAgfVxuXG4gICAgb251bmxvYWQoKSB7XG5cbiAgICB9XG5cbiAgICBhc3luYyBsb2FkU2V0dGluZ3MoKSB7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBhd2FpdCB0aGlzLmxvYWREYXRhKCkpO1xuICAgIH1cblxuICAgIGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcbiAgICB9XG59XG5cblxuY2xhc3MgUHJvamVjdFRhc2tzU2V0dGluZ3NUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcbiAgICBwbHVnaW46IFByb2plY3RUYXNrcztcblxuICAgIGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IFByb2plY3RUYXNrcykge1xuICAgICAgICBzdXBlcihhcHAsIHBsdWdpbik7XG4gICAgICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xuICAgIH1cblxuICAgIGRpc3BsYXkoKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHtjb250YWluZXJFbH0gPSB0aGlzO1xuXG4gICAgICAgIGNvbnRhaW5lckVsLmVtcHR5KCk7XG5cbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAgICAgICAuc2V0TmFtZSgnUHJvamVjdCBJRCBtZXRob2QnKVxuICAgICAgICAgICAgLnNldERlc2MoJ0Nob29zZSBob3cgdGhlIElEIHdpbGwgYmUgZGV0ZXJtaW5lZCcpXG4gICAgICAgICAgICAuYWRkRHJvcGRvd24oZHJvcERvd24gPT4ge1xuICAgICAgICAgICAgICAgIGRyb3BEb3duLmFkZE9wdGlvbignMScsICdVc2UgcHJlZml4Jyk7XG4gICAgICAgICAgICAgICAgZHJvcERvd24uYWRkT3B0aW9uKCcyJywgJ1VzZSBTZWN0aW9uIG5hbWUnKTtcbiAgICAgICAgICAgICAgICBkcm9wRG93bi5hZGRPcHRpb24oJzMnLCAnVXNlIGZpbGVuYW1lJylcbiAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuaWRQcmVmaXhNZXRob2QpXG4gICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5pZFByZWZpeE1ldGhvZCA9IHZhbHVlIGFzIFByZWZpeE1ldGhvZDtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgfSl9KTtcblxuICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgICAgICAgIC5zZXROYW1lKCdQcm9qZWN0IElEIHByZWZpeCcpXG4gICAgICAgICAgICAuc2V0RGVzYygnUHJlZml4IHRvIHVzZSB3aGVuIGNyZWF0aW5nIGFuIElEIGZvciBhIHRhc2snKVxuICAgICAgICAgICAgLmFkZFRleHQodGV4dCA9PiB0ZXh0XG4gICAgICAgICAgICAgICAgLnNldFBsYWNlaG9sZGVyKCdJRCBwcmVmaXgnKVxuICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5wcm9qZWN0UHJlZml4KVxuICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MucHJvamVjdFByZWZpeCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAgICAgICAuc2V0TmFtZSgnTGVuZ3RoIG9mIHJhbmRvbSBJRCBudW1iZXInKVxuICAgICAgICAgICAgLnNldERlc2MoJ0hvdyBtYW55IGRpZ2l0cyB0byB1c2UgZm9yIHJhbmRvbSBJRCB3aGVuIHVzaW5nIGEgZml4ZWQgcHJlZml4JylcbiAgICAgICAgICAgIC5hZGRTbGlkZXIodGV4dCA9PiB0ZXh0XG4gICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnJhbmRvbUlETGVuZ3RoKVxuICAgICAgICAgICAgICAgIC5zZXRMaW1pdHMoMywgNiwgMSlcbiAgICAgICAgICAgICAgICAuc2V0RHluYW1pY1Rvb2x0aXAoKVxuICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MucmFuZG9tSURMZW5ndGggPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgICAgICAgLnNldE5hbWUoJ0luaXRpYWwgc2VxdWVudGlhbCBJRCBudW1iZXInKVxuICAgICAgICAgICAgLnNldERlc2MoJ1N0YXJ0IG51bWJlciBmb3Igc2VxdWVudGlhbCBJRFxcJ3MnKVxuICAgICAgICAgICAgLmFkZFNsaWRlcih0ZXh0ID0+IHRleHRcbiAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Muc2VxdWVudGlhbFN0YXJ0TnVtYmVyKVxuICAgICAgICAgICAgICAgIC5zZXRMaW1pdHMoMCwgMSwgMSlcbiAgICAgICAgICAgICAgICAuc2V0RHluYW1pY1Rvb2x0aXAoKVxuICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3Muc2VxdWVudGlhbFN0YXJ0TnVtYmVyID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgIH0pKTtcblxuICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgICAgICAgIC5zZXROYW1lKCdSZW1vdmUgdm93ZWxzJylcbiAgICAgICAgICAgIC5zZXREZXNjKCdSZW1vdmUgdm93ZWxzIGZyb20gdGhlIHByZWZpeCB3aGVuIGdldHRpbmcgZnJvbSB0aGUgZmlsZW5hbWUgb3IgYmxvY2sgbmFtZScpXG4gICAgICAgICAgICAuYWRkVG9nZ2xlKHRleHQgPT4gdGV4dFxuICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5yZW1vdmVWb3dlbHMpXG4gICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5yZW1vdmVWb3dlbHMgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgICAgICAgLnNldE5hbWUoJ0ZpcnN0IGxldHRlciBvZiB3b3JkcycpXG4gICAgICAgICAgICAuc2V0RGVzYygnT25seSB1c2UgdGhlIGZpcnN0IGxldHRlciBvZiB3b3JkcyB0byBmb3JtIHRoZSBwcmVmaXgnKVxuICAgICAgICAgICAgLmFkZFRvZ2dsZSh0ZXh0ID0+IHRleHRcbiAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZmlyc3RMZXR0ZXJzT2ZXb3JkcylcbiAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmZpcnN0TGV0dGVyc09mV29yZHMgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgICAgICAgLnNldE5hbWUoJ0F1dG9tYXRpY2FsbHkgYWRkIFRhZycpXG4gICAgICAgICAgICAuc2V0RGVzYygnQSB0YWcgdG8gYWRkIHRvIGVhY2ggdGFzayAtIGRvIG5vdCBpbmNsdWRlIHRoZSAjIHN5bWJvbCcpXG4gICAgICAgICAgICAuYWRkVGV4dCh0ZXh0ID0+IHRleHRcbiAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuYXV0b21hdGljVGFnTmFtZSlcbiAgICAgICAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoXCJUYWcgTmFtZVwiKVxuICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuYXV0b21hdGljVGFnTmFtZSA9IHZhbHVlLnJlcGxhY2VBbGwoJyMnLCAnJyk7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgIH0pKTtcblxuICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgICAgICAgIC5zZXROYW1lKCdOZXN0ZWQgdGFncyBiZWhhdmlvdXInKVxuICAgICAgICAgICAgLnNldERlc2MoJ0RldGVybWluZXMgd2hldGhlciBuZXN0ZWQgdGFncyB3aWxsIGNyZWF0ZSBwYXJhbGxlbCBleGVjdXRpb24gdGFncyBvciBzZXF1ZW50aWFsJylcbiAgICAgICAgICAgIC5hZGREcm9wZG93bihkcm9wRG93biA9PiB7XG4gICAgICAgICAgICAgICAgZHJvcERvd24uYWRkT3B0aW9uKCcxJywgJ1BhcmFsbGVsIEV4ZWN1dGlvbicpO1xuICAgICAgICAgICAgICAgIGRyb3BEb3duLmFkZE9wdGlvbignMicsICdTZXF1ZW50aWFsIEV4ZWN1dGlvbicpXG4gICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLm5lc3RlZFRhc2tCZWhhdmlvcilcbiAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLm5lc3RlZFRhc2tCZWhhdmlvciA9IHZhbHVlIGFzIE5lc3RpbmdCZWhhdmlvdXI7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgIH0pfSk7XG4gICAgfVxufVxuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLHNCQVdPO0FBR1AsSUFBTSxRQUFRO0FBRWQsSUFBTSxpQkFBaUI7QUEyQnZCLElBQU0sbUJBQXlDO0FBQUEsRUFDM0MsZ0JBQWdCO0FBQUEsRUFDaEIsZUFBZTtBQUFBLEVBQ2YsZ0JBQWdCO0FBQUEsRUFDaEIsdUJBQXVCO0FBQUEsRUFDdkIsY0FBYztBQUFBLEVBQ2QscUJBQXFCO0FBQUEsRUFDckIsa0JBQWtCO0FBQUEsRUFDbEIsb0JBQW9CO0FBQ3hCO0FBR0EsSUFBcUIsZUFBckIsY0FBMEMsdUJBQU87QUFBQSxFQUc3QyxNQUFNLFNBQVM7QUFDWCxRQUFJO0FBQU8sY0FBUSxJQUFJLHdCQUF3QjtBQUUvQyxVQUFNLEtBQUssYUFBYTtBQUV4QixTQUFLLFdBQVc7QUFBQSxNQUNaLElBQUk7QUFBQSxNQUNKLE1BQU07QUFBQSxNQUNOLGdCQUFnQixDQUFDLFFBQVEsU0FBUztBQUM5QixZQUFJLE1BQU0sT0FBTyxhQUFhO0FBQzlCLFlBQUksUUFBUSxLQUFLLFdBQVcsS0FBSyxLQUFLLFVBQVUsUUFBUSxJQUFJLENBQUM7QUFDN0QsZUFBTztBQUFBLFVBQ0gsR0FBRztBQUFBLFFBQ1A7QUFBQSxNQUNKO0FBQUEsSUFDSixDQUFDO0FBRUQsU0FBSyxXQUFXO0FBQUEsTUFDWixJQUFJO0FBQUEsTUFDSixNQUFNO0FBQUEsTUFDTixnQkFBZ0IsQ0FBQyxRQUFRLFNBQVM7QUFDOUIsWUFBSSxNQUFNLE9BQU8sYUFBYTtBQUM5QixZQUFJLFFBQVEsS0FBSyxjQUFjLEdBQUc7QUFDbEMsZUFBTztBQUFBLFVBQ0gsR0FBRztBQUFBLFFBQ1A7QUFBQSxNQUNKO0FBQUEsSUFDSixDQUFDO0FBRUQsU0FBSyxXQUFXO0FB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
