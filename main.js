/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => ProjectTasks
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");

// helpers.ts
var BLOCK_BOUNDARY = /^#+\s/;
var DEBUG = true;
var Helper = class {
  // Simple helper class that contains the business logic
  // of the app. This is extracted here to allow unit testing
  constructor() {
  }
  static getNestingLevel(task_marker) {
    let parts = task_marker.replaceAll("\n", "").split("-");
    return parts[0].length;
  }
  static generateRandomDigits(length) {
    const digits = "0123456789";
    let randomString = "";
    for (let i = 0; i < length; i++) {
      const randomIndex = Math.floor(Math.random() * digits.length);
      randomString += digits[randomIndex];
    }
    return randomString;
  }
  static getPrefixFromString(text, first_letters, remove_vowels) {
    text = text.replaceAll(/[#\[\]]/g, "");
    let words = text.split(/\s+/);
    text = "";
    for (let word of words) {
      if (word) {
        text = `${text}${word[0].toUpperCase()}`;
        if (!first_letters) {
          let remainder = word.slice(1);
          if (remove_vowels) {
            remainder = remainder.replaceAll(/[aeiou]/g, "");
          }
          text = `${text}${remainder}`;
        }
      }
    }
    text = text.replaceAll(" ", "");
    return text;
  }
  static clearBlockIDs(sel, automatic_tag) {
    let remove_id = /ðŸ†”\s[\w,]+[ \t]*/g;
    sel = sel.replaceAll(remove_id, "");
    let remove_block = /â›”\s[\w,]+[ \t]*/g;
    sel = sel.replaceAll(remove_block, "");
    if (automatic_tag) {
      let remove_tag = new RegExp("^(\\s*-\\s\\[[ x\\-\\/]]\\s.*)(#" + automatic_tag + ")(.*)$", "mg");
      sel = sel.replaceAll(remove_tag, "$1 $3");
    }
    return sel;
  }
  static getBlockEnd(editor) {
    let blockEnd = editor.getCursor().line;
    if (blockEnd >= editor.lineCount() - 1)
      return blockEnd + 1;
    blockEnd += 1;
    while (!BLOCK_BOUNDARY.test(editor.getLine(blockEnd))) {
      blockEnd++;
      if (blockEnd > editor.lineCount() - 1)
        return blockEnd;
    }
    return blockEnd;
  }
  static getBlockStart(editor) {
    let blockStart = editor.getCursor().line;
    if (BLOCK_BOUNDARY.test(editor.getLine(blockStart))) {
      return Math.min(editor.lineCount() - 1, blockStart + 1);
    }
    while (blockStart > 0 && !BLOCK_BOUNDARY.test(editor.getLine(blockStart - 1))) {
      blockStart--;
    }
    return blockStart;
  }
  static getSectionName(editor, file_name) {
    let section_start = Helper.getBlockStart(editor);
    if (section_start == 0) {
      return file_name;
    } else {
      return editor.getLine(section_start - 1);
    }
  }
  static addTaskIDs(sel, prefix, automatic_tag, parallel, use_prefix, random_id_length, sequential_start) {
    const regex = /^(\s*-\s\[[ x\-\/]\]\s)?(.*)$/mg;
    sel = Helper.clearBlockIDs(sel, automatic_tag);
    if (DEBUG)
      console.log(`Replaced ids and blocks to give: ${sel}`);
    const matches = sel.matchAll(regex);
    let lines = "";
    let first = true;
    let idx = 0;
    let nesting_ids = ["0:ERROR!"];
    let current_nesting = 0;
    let is_parallel = false;
    let this_id;
    for (const match of matches) {
      if (!first) {
        lines += "\n";
      }
      if (match[1]) {
        if (parallel) {
          let nesting_depth = Helper.getNestingLevel(match[1]);
          if (nesting_depth > current_nesting) {
            current_nesting += 1;
            is_parallel = true;
            nesting_ids.push(``);
          } else if (nesting_depth < current_nesting) {
            while (current_nesting > nesting_depth) {
              current_nesting -= 1;
              let nested = nesting_ids.pop();
              if (nested) {
                nesting_ids[nesting_ids.length - 1] += `,${nested}`;
              }
              is_parallel = current_nesting > 0;
            }
          }
        }
        let this_line;
        if (use_prefix) {
          this_id = `${prefix}${Helper.generateRandomDigits(random_id_length)}`;
        } else {
          this_id = `${prefix}${idx + sequential_start}`;
        }
        let cleaned_line = match[2].trim();
        if (cleaned_line != "")
          cleaned_line += " ";
        this_line = `${match[1]}${cleaned_line}\u{1F194} ${this_id}`;
        if (idx > 0) {
          if (is_parallel) {
            this_line += ` \u26D4 ${nesting_ids[current_nesting - 1]}`;
          } else {
            this_line += ` \u26D4 ${nesting_ids[nesting_ids.length - 1]}`;
          }
        }
        if (automatic_tag) {
          this_line += ` #${automatic_tag}`;
        }
        lines += this_line;
        idx += 1;
        if (is_parallel) {
          if (nesting_ids[nesting_ids.length - 1])
            nesting_ids[nesting_ids.length - 1] += ",";
          nesting_ids[nesting_ids.length - 1] += `${this_id}`;
        } else {
          nesting_ids[nesting_ids.length - 1] = this_id;
        }
        if (DEBUG)
          console.log(`Nesting level ${current_nesting}, ids ${nesting_ids}`);
      } else {
        lines += `${match[2].trim()}`;
      }
      first = false;
    }
    return lines;
  }
};

// main.ts
var DEBUG2 = true;
var DEFAULT_SETTINGS = {
  idPrefixMethod: "1" /* UsePrefix */,
  projectPrefix: "prj",
  randomIDLength: 6,
  sequentialStartNumber: 1,
  removeVowels: false,
  firstLettersOfWords: false,
  automaticTagName: "Project",
  nestedTaskBehavior: "1" /* ParallelExecution */
};
var ProjectTasks = class extends import_obsidian.Plugin {
  async onload() {
    if (DEBUG2)
      console.log("Project Tasks starting");
    await this.loadSettings();
    this.addCommand({
      id: "set-ids",
      name: "Set project ids on Selection",
      editorCallback: (editor, view) => {
        let sel = editor.getSelection();
        let lines = Helper.addTaskIDs(
          sel,
          this.getPrefix(editor, view),
          this.settings.automaticTagName,
          this.settings.nestedTaskBehavior == "1" /* ParallelExecution */,
          this.settings.idPrefixMethod == "1" /* UsePrefix */,
          this.settings.randomIDLength,
          this.settings.sequentialStartNumber
        );
        editor.replaceSelection(
          `${lines}`
        );
      }
    });
    this.addCommand({
      id: "clear-ids",
      name: "Clear project ids on Selection",
      editorCallback: (editor, view) => {
        let sel = editor.getSelection();
        let lines = Helper.clearBlockIDs(sel, this.settings.automaticTagName);
        editor.replaceSelection(
          `${lines}`
        );
      }
    });
    this.addCommand({
      id: "set-ids-block",
      name: "Set project ids on Block",
      editorCallback: (editor, view) => {
        this.blockUpdate(editor, this.getPrefix(editor, view), true);
      }
    });
    this.addCommand({
      id: "clear-ids-block",
      name: "Clear project ids on Block",
      editorCallback: (editor, view) => {
        this.blockUpdate(editor, this.getPrefix(editor, view), false);
      }
    });
    this.addCommand({
      id: "add-project-task-list",
      name: "Add active project task list",
      editorCallback: (editor, view) => {
        this.addActiveProjectList(editor);
      }
    });
    this.addCommand({
      id: "clear-ids-file",
      name: "Clear project ids in entire file",
      editorCallback: (editor, view) => {
        let last_line = editor.lineCount();
        let range_from = { line: 0, ch: 0 };
        let range_to = { line: last_line, ch: editor.getLine(last_line).length };
        let sel = editor.getRange(range_from, range_to);
        let lines = Helper.clearBlockIDs(sel, this.settings.automaticTagName);
        editor.replaceRange(
          `${lines}`,
          range_from,
          range_to
        );
      }
    });
    this.addSettingTab(new ProjectTasksSettingsTab(this.app, this));
  }
  addActiveProjectList(editor) {
    const active_tasks_view = `\`\`\`tasks
tags includes #${this.settings.automaticTagName}
not done
hide backlink
is not blocked
\`\`\``;
    editor.replaceSelection(active_tasks_view);
  }
  blockUpdate(editor, prefix, add_ids) {
    const cursor = editor.getCursor();
    const line = editor.getLine(cursor.line);
    let blockStart = Helper.getBlockStart(editor);
    let blockEnd = Helper.getBlockEnd(editor);
    let last_line_length = editor.getLine(blockEnd + 1).length;
    const blockContent = editor.getRange({ line: blockStart, ch: 0 }, { line: blockEnd, ch: last_line_length });
    if (DEBUG2)
      console.log(`Start ${blockStart}, End ${blockEnd}, last length ${last_line_length}
Orig: ${blockContent}`);
    let lines;
    if (add_ids) {
      lines = Helper.addTaskIDs(
        blockContent,
        prefix,
        this.settings.automaticTagName,
        this.settings.nestedTaskBehavior == "1" /* ParallelExecution */,
        this.settings.idPrefixMethod == "1" /* UsePrefix */,
        this.settings.randomIDLength,
        this.settings.sequentialStartNumber
      );
    } else {
      lines = Helper.clearBlockIDs(blockContent, this.settings.automaticTagName);
    }
    if (DEBUG2)
      console.log(`Start ${blockStart}, End ${blockEnd}, last length ${last_line_length}
Orig: ${blockContent}
New: ${lines}`);
    editor.replaceRange(lines, { line: blockStart, ch: 0 }, { line: blockEnd, ch: last_line_length });
  }
  getPrefix(editor, view) {
    let raw_prefix;
    switch (this.settings.idPrefixMethod) {
      case "1" /* UsePrefix */: {
        raw_prefix = this.settings.projectPrefix;
        break;
      }
      case "3" /* FileName */: {
        raw_prefix = this.getFilename(view);
        break;
      }
      case "2" /* SectionName */: {
        raw_prefix = Helper.getSectionName(editor, this.getFilename(view));
      }
    }
    return Helper.getPrefixFromString(raw_prefix, this.settings.firstLettersOfWords, this.settings.removeVowels);
  }
  getFilename(view) {
    var _a;
    if (!((_a = view.file) == null ? void 0 : _a.name)) {
      return this.settings.projectPrefix;
    } else {
      return view.file.name.split(".")[0];
    }
  }
  onunload() {
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};
var ProjectTasksSettingsTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    new import_obsidian.Setting(containerEl).setName("Project ID method").setDesc("Choose how the ID will be determined").addDropdown((dropDown) => {
      dropDown.addOption("1", "Use prefix");
      dropDown.addOption("2", "Use Section name");
      dropDown.addOption("3", "Use filename").setValue(this.plugin.settings.idPrefixMethod).onChange(async (value) => {
        this.plugin.settings.idPrefixMethod = value;
        await this.plugin.saveSettings();
      });
    });
    new import_obsidian.Setting(containerEl).setName("Project ID prefix").setDesc("Prefix to use when creating an ID for a task").addText((text) => text.setPlaceholder("ID prefix").setValue(this.plugin.settings.projectPrefix).onChange(async (value) => {
      this.plugin.settings.projectPrefix = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Length of random ID number").setDesc("How many digits to use for random ID when using a fixed prefix").addSlider((text) => text.setValue(this.plugin.settings.randomIDLength).setLimits(3, 6, 1).setDynamicTooltip().onChange(async (value) => {
      this.plugin.settings.randomIDLength = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Initial sequential ID number").setDesc("Start number for sequential ID's").addSlider((text) => text.setValue(this.plugin.settings.sequentialStartNumber).setLimits(0, 1, 1).setDynamicTooltip().onChange(async (value) => {
      this.plugin.settings.sequentialStartNumber = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Remove vowels").setDesc("Remove vowels from the prefix when getting from the filename or block name").addToggle((text) => text.setValue(this.plugin.settings.removeVowels).onChange(async (value) => {
      this.plugin.settings.removeVowels = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("First letter of words").setDesc("Only use the first letter of words to form the prefix").addToggle((text) => text.setValue(this.plugin.settings.firstLettersOfWords).onChange(async (value) => {
      this.plugin.settings.firstLettersOfWords = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Automatically add Tag").setDesc("A tag to add to each task - do not include the # symbol").addText((text) => text.setValue(this.plugin.settings.automaticTagName).setPlaceholder("Tag Name").onChange(async (value) => {
      this.plugin.settings.automaticTagName = value.replaceAll("#", "");
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Nested tags behaviour").setDesc("Determines whether nested tags will create parallel execution tags or sequential").addDropdown((dropDown) => {
      dropDown.addOption("1", "Parallel Execution");
      dropDown.addOption("2", "Sequential Execution").setValue(this.plugin.settings.nestedTaskBehavior).onChange(async (value) => {
        this.plugin.settings.nestedTaskBehavior = value;
        await this.plugin.saveSettings();
      });
    });
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyIsICJoZWxwZXJzLnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJpbXBvcnQge1xuICAgIEFwcCxcbiAgICBFZGl0b3IsXG4gICAgRWRpdG9yUG9zaXRpb24sIE1hcmtkb3duRmlsZUluZm8sXG4gICAgTWFya2Rvd25WaWV3LFxuICAgIE1vZGFsLFxuICAgIE5vdGljZSxcbiAgICBQbHVnaW4sXG4gICAgUGx1Z2luU2V0dGluZ1RhYixcbiAgICBTZXR0aW5nLFxuICAgIFZpZXdcbn0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0ICogYXMgbmV0IGZyb20gXCJuZXRcIjtcbmltcG9ydCBIZWxwZXIgZnJvbSBcIi4vaGVscGVyc1wiO1xuXG4vLyBUdXJuIG9uIHRvIGFsbG93IGRlYnVnZ2luZyBpbiB0aGUgY29uc29sZVxuY29uc3QgREVCVUcgPSB0cnVlO1xuXG4vLyBSZWdleCBmb3IgYmxvY2sgYm91bmRhcnlcbi8vIFRvRG8gLSB0aGlzIGlzIGR1cGxpY2F0ZWQgaW4gdGhlIEhlbHBlciBjbGFzcywgc2hvdWxkIHJlZmFjdG9yIHRoaXNcbmNvbnN0IEJMT0NLX0JPVU5EQVJZID0gL14jK1xccy87XG5cblxuZW51bSBQcmVmaXhNZXRob2Qge1xuICAgIFVzZVByZWZpeCA9ICcxJyxcbiAgICBTZWN0aW9uTmFtZSA9ICcyJyxcbiAgICBGaWxlTmFtZSA9ICczJ1xufVxuXG5lbnVtIE5lc3RpbmdCZWhhdmlvdXIge1xuICAgIFBhcmFsbGVsRXhlY3V0aW9uID0gJzEnLFxuICAgIFNlcXVlbnRpYWxFeGVjdXRpb24gPSAnMicsXG59XG5cbmludGVyZmFjZSBQcm9qZWN0VGFza3NTZXR0aW5ncyB7XG4gICAgaWRQcmVmaXhNZXRob2Q6IFByZWZpeE1ldGhvZDtcbiAgICBwcm9qZWN0UHJlZml4OiBzdHJpbmc7XG4gICAgcmFuZG9tSURMZW5ndGg6IG51bWJlcjtcbiAgICBzZXF1ZW50aWFsU3RhcnROdW1iZXI6IG51bWJlcjtcbiAgICByZW1vdmVWb3dlbHM6IGJvb2xlYW47XG4gICAgZmlyc3RMZXR0ZXJzT2ZXb3JkczogYm9vbGVhbjtcbiAgICBhdXRvbWF0aWNUYWdOYW1lOiBzdHJpbmc7XG4gICAgbmVzdGVkVGFza0JlaGF2aW9yOiBOZXN0aW5nQmVoYXZpb3VyO1xuXG59XG5cbmNvbnN0IERFRkFVTFRfU0VUVElOR1M6IFByb2plY3RUYXNrc1NldHRpbmdzID0ge1xuICAgIGlkUHJlZml4TWV0aG9kOiBQcmVmaXhNZXRob2QuVXNlUHJlZml4LFxuICAgIHByb2plY3RQcmVmaXg6ICdwcmonLFxuICAgIHJhbmRvbUlETGVuZ3RoOiA2LFxuICAgIHNlcXVlbnRpYWxTdGFydE51bWJlcjogMSxcbiAgICByZW1vdmVWb3dlbHM6IGZhbHNlLFxuICAgIGZpcnN0TGV0dGVyc09mV29yZHM6IGZhbHNlLFxuICAgIGF1dG9tYXRpY1RhZ05hbWU6IFwiUHJvamVjdFwiLFxuICAgIG5lc3RlZFRhc2tCZWhhdmlvcjogTmVzdGluZ0JlaGF2aW91ci5QYXJhbGxlbEV4ZWN1dGlvbixcbn1cblxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcm9qZWN0VGFza3MgZXh0ZW5kcyBQbHVnaW4ge1xuICAgIHNldHRpbmdzOiBQcm9qZWN0VGFza3NTZXR0aW5ncztcblxuICAgIGFzeW5jIG9ubG9hZCgpIHtcbiAgICAgICAgaWYgKERFQlVHKSBjb25zb2xlLmxvZygnUHJvamVjdCBUYXNrcyBzdGFydGluZycpO1xuXG4gICAgICAgIGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XG5cbiAgICAgICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgICAgICAgIGlkOiBcInNldC1pZHNcIixcbiAgICAgICAgICAgIG5hbWU6IFwiU2V0IHByb2plY3QgaWRzIG9uIFNlbGVjdGlvblwiLFxuICAgICAgICAgICAgZWRpdG9yQ2FsbGJhY2s6IChlZGl0b3IsIHZpZXcpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgc2VsID0gZWRpdG9yLmdldFNlbGVjdGlvbigpO1xuICAgICAgICAgICAgICAgIGxldCBsaW5lcyA9IEhlbHBlci5hZGRUYXNrSURzKHNlbCwgdGhpcy5nZXRQcmVmaXgoZWRpdG9yLCB2aWV3KSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5hdXRvbWF0aWNUYWdOYW1lLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzLm5lc3RlZFRhc2tCZWhhdmlvciA9PSBOZXN0aW5nQmVoYXZpb3VyLlBhcmFsbGVsRXhlY3V0aW9uLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzLmlkUHJlZml4TWV0aG9kID09IFByZWZpeE1ldGhvZC5Vc2VQcmVmaXgsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MucmFuZG9tSURMZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3Muc2VxdWVudGlhbFN0YXJ0TnVtYmVyXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBlZGl0b3IucmVwbGFjZVNlbGVjdGlvbihcbiAgICAgICAgICAgICAgICAgICAgYCR7bGluZXN9YFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICAgICAgICBpZDogXCJjbGVhci1pZHNcIixcbiAgICAgICAgICAgIG5hbWU6IFwiQ2xlYXIgcHJvamVjdCBpZHMgb24gU2VsZWN0aW9uXCIsXG4gICAgICAgICAgICBlZGl0b3JDYWxsYmFjazogKGVkaXRvciwgdmlldykgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBzZWwgPSBlZGl0b3IuZ2V0U2VsZWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgbGV0IGxpbmVzID0gSGVscGVyLmNsZWFyQmxvY2tJRHMoc2VsLCB0aGlzLnNldHRpbmdzLmF1dG9tYXRpY1RhZ05hbWUpO1xuICAgICAgICAgICAgICAgIGVkaXRvci5yZXBsYWNlU2VsZWN0aW9uKFxuICAgICAgICAgICAgICAgICAgICBgJHtsaW5lc31gXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgICAgICAgIGlkOiBcInNldC1pZHMtYmxvY2tcIixcbiAgICAgICAgICAgIG5hbWU6IFwiU2V0IHByb2plY3QgaWRzIG9uIEJsb2NrXCIsXG4gICAgICAgICAgICBlZGl0b3JDYWxsYmFjazogKGVkaXRvciwgdmlldykgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuYmxvY2tVcGRhdGUoZWRpdG9yLCB0aGlzLmdldFByZWZpeChlZGl0b3IsIHZpZXcpLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgICAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgICAgICAgaWQ6IFwiY2xlYXItaWRzLWJsb2NrXCIsXG4gICAgICAgICAgICBuYW1lOiBcIkNsZWFyIHByb2plY3QgaWRzIG9uIEJsb2NrXCIsXG4gICAgICAgICAgICBlZGl0b3JDYWxsYmFjazogKGVkaXRvciwgdmlldykgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuYmxvY2tVcGRhdGUoZWRpdG9yLCB0aGlzLmdldFByZWZpeChlZGl0b3IsIHZpZXcpLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgICAgICAgIGlkOiBcImFkZC1wcm9qZWN0LXRhc2stbGlzdFwiLFxuICAgICAgICAgICAgbmFtZTogXCJBZGQgYWN0aXZlIHByb2plY3QgdGFzayBsaXN0XCIsXG4gICAgICAgICAgICBlZGl0b3JDYWxsYmFjazogKGVkaXRvciwgdmlldykgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkQWN0aXZlUHJvamVjdExpc3QoZWRpdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuXG4gICAgICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICAgICAgICBpZDogXCJjbGVhci1pZHMtZmlsZVwiLFxuICAgICAgICAgICAgbmFtZTogXCJDbGVhciBwcm9qZWN0IGlkcyBpbiBlbnRpcmUgZmlsZVwiLFxuICAgICAgICAgICAgZWRpdG9yQ2FsbGJhY2s6IChlZGl0b3IsIHZpZXcpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgbGFzdF9saW5lID0gZWRpdG9yLmxpbmVDb3VudCgpXG4gICAgICAgICAgICAgICAgbGV0IHJhbmdlX2Zyb20gPSB7bGluZTogMCwgY2g6IDB9XG4gICAgICAgICAgICAgICAgbGV0IHJhbmdlX3RvID0ge2xpbmU6IGxhc3RfbGluZSwgY2g6IGVkaXRvci5nZXRMaW5lKGxhc3RfbGluZSkubGVuZ3RofVxuICAgICAgICAgICAgICAgIGxldCBzZWwgPSBlZGl0b3IuZ2V0UmFuZ2UocmFuZ2VfZnJvbSwgcmFuZ2VfdG8pO1xuICAgICAgICAgICAgICAgIGxldCBsaW5lcyA9IEhlbHBlci5jbGVhckJsb2NrSURzKHNlbCwgdGhpcy5zZXR0aW5ncy5hdXRvbWF0aWNUYWdOYW1lKTtcbiAgICAgICAgICAgICAgICBlZGl0b3IucmVwbGFjZVJhbmdlKFxuICAgICAgICAgICAgICAgICAgICBgJHtsaW5lc31gLFxuICAgICAgICAgICAgICAgICAgICByYW5nZV9mcm9tLFxuICAgICAgICAgICAgICAgICAgICByYW5nZV90b1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgLy8gVGhpcyBhZGRzIGEgc2V0dGluZ3MgdGFiIHNvIHRoZSB1c2VyIGNhbiBjb25maWd1cmUgdmFyaW91cyBhc3BlY3RzIG9mIHRoZSBwbHVnaW5cbiAgICAgICAgdGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBQcm9qZWN0VGFza3NTZXR0aW5nc1RhYih0aGlzLmFwcCwgdGhpcykpO1xuXG4gICAgfVxuXG4gICAgYWRkQWN0aXZlUHJvamVjdExpc3QoZWRpdG9yOiBFZGl0b3IpIHtcbiAgICAgICAgLy8gQSB2aWV3IHRvIHNob3cgYWN0aXZlIHRhc2tzXG4gICAgICAgIGNvbnN0IGFjdGl2ZV90YXNrc192aWV3ID0gYFxcYFxcYFxcYHRhc2tzXG50YWdzIGluY2x1ZGVzICMke3RoaXMuc2V0dGluZ3MuYXV0b21hdGljVGFnTmFtZX1cbm5vdCBkb25lXG5oaWRlIGJhY2tsaW5rXG5pcyBub3QgYmxvY2tlZFxuXFxgXFxgXFxgYDtcbiAgICAgICAgZWRpdG9yLnJlcGxhY2VTZWxlY3Rpb24oYWN0aXZlX3Rhc2tzX3ZpZXcpO1xuICAgIH1cblxuICAgIGJsb2NrVXBkYXRlKGVkaXRvcjogRWRpdG9yLCBwcmVmaXg6IHN0cmluZywgYWRkX2lkczogYm9vbGVhbikge1xuICAgICAgICBjb25zdCBjdXJzb3IgPSBlZGl0b3IuZ2V0Q3Vyc29yKCk7XG4gICAgICAgIGNvbnN0IGxpbmUgPSBlZGl0b3IuZ2V0TGluZShjdXJzb3IubGluZSk7XG5cbiAgICAgICAgLy8gR2V0IHRoZSBibG9jayBib3VuZGFyaWVzXG4gICAgICAgIGxldCBibG9ja1N0YXJ0ID0gSGVscGVyLmdldEJsb2NrU3RhcnQoZWRpdG9yKTtcbiAgICAgICAgbGV0IGJsb2NrRW5kID0gSGVscGVyLmdldEJsb2NrRW5kKGVkaXRvcik7XG4gICAgICAgIGxldCBsYXN0X2xpbmVfbGVuZ3RoID0gZWRpdG9yLmdldExpbmUoYmxvY2tFbmQgKyAxKS5sZW5ndGg7XG5cbiAgICAgICAgY29uc3QgYmxvY2tDb250ZW50ID0gZWRpdG9yLmdldFJhbmdlKHtsaW5lOiBibG9ja1N0YXJ0LCBjaDogMH0sIHtsaW5lOiBibG9ja0VuZCwgY2g6IGxhc3RfbGluZV9sZW5ndGh9KTtcbiAgICAgICAgaWYgKERFQlVHKSBjb25zb2xlLmxvZyhgU3RhcnQgJHtibG9ja1N0YXJ0fSwgRW5kICR7YmxvY2tFbmR9LCBsYXN0IGxlbmd0aCAke2xhc3RfbGluZV9sZW5ndGh9XFxuT3JpZzogJHtibG9ja0NvbnRlbnR9YCk7XG5cbiAgICAgICAgbGV0IGxpbmVzO1xuICAgICAgICBpZiAoYWRkX2lkcykge1xuICAgICAgICAgICAgbGluZXMgPSBIZWxwZXIuYWRkVGFza0lEcyhibG9ja0NvbnRlbnQsIHByZWZpeCxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5hdXRvbWF0aWNUYWdOYW1lLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzLm5lc3RlZFRhc2tCZWhhdmlvciA9PSBOZXN0aW5nQmVoYXZpb3VyLlBhcmFsbGVsRXhlY3V0aW9uLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzLmlkUHJlZml4TWV0aG9kID09IFByZWZpeE1ldGhvZC5Vc2VQcmVmaXgsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MucmFuZG9tSURMZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3Muc2VxdWVudGlhbFN0YXJ0TnVtYmVyXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGluZXMgPSBIZWxwZXIuY2xlYXJCbG9ja0lEcyhibG9ja0NvbnRlbnQsIHRoaXMuc2V0dGluZ3MuYXV0b21hdGljVGFnTmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoREVCVUcpIGNvbnNvbGUubG9nKGBTdGFydCAke2Jsb2NrU3RhcnR9LCBFbmQgJHtibG9ja0VuZH0sIGxhc3QgbGVuZ3RoICR7bGFzdF9saW5lX2xlbmd0aH1cXG5PcmlnOiAke2Jsb2NrQ29udGVudH1cXG5OZXc6ICR7bGluZXN9YCk7XG4gICAgICAgIGVkaXRvci5yZXBsYWNlUmFuZ2UobGluZXMsIHtsaW5lOiBibG9ja1N0YXJ0LCBjaDogMH0sIHtsaW5lOiBibG9ja0VuZCwgY2g6IGxhc3RfbGluZV9sZW5ndGh9KTtcbiAgICB9XG5cbiAgICBnZXRQcmVmaXgoZWRpdG9yOiBFZGl0b3IsIHZpZXc6IE1hcmtkb3duRmlsZUluZm8pIHtcbiAgICAgICAgbGV0IHJhd19wcmVmaXg7XG4gICAgICAgIHN3aXRjaCAodGhpcy5zZXR0aW5ncy5pZFByZWZpeE1ldGhvZCkge1xuICAgICAgICAgICAgY2FzZSBQcmVmaXhNZXRob2QuVXNlUHJlZml4OiB7XG4gICAgICAgICAgICAgICAgcmF3X3ByZWZpeCA9IHRoaXMuc2V0dGluZ3MucHJvamVjdFByZWZpeDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgUHJlZml4TWV0aG9kLkZpbGVOYW1lOiB7XG4gICAgICAgICAgICAgICAgcmF3X3ByZWZpeCA9IHRoaXMuZ2V0RmlsZW5hbWUodmlldyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFByZWZpeE1ldGhvZC5TZWN0aW9uTmFtZToge1xuICAgICAgICAgICAgICAgIC8vIFRyeSB0byBmaW5kIHRoZSBuYW1lIG9mIHRoZSBibG9jayB0aGF0IGNvbnRhaW5zIHRoZSBjdXJzb3Igb3IgdGhlIHNlbGVjdGlvblxuICAgICAgICAgICAgICAgIHJhd19wcmVmaXggPSBIZWxwZXIuZ2V0U2VjdGlvbk5hbWUoZWRpdG9yLCB0aGlzLmdldEZpbGVuYW1lKHZpZXcpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gSGVscGVyLmdldFByZWZpeEZyb21TdHJpbmcocmF3X3ByZWZpeCwgdGhpcy5zZXR0aW5ncy5maXJzdExldHRlcnNPZldvcmRzLCB0aGlzLnNldHRpbmdzLnJlbW92ZVZvd2Vscyk7XG4gICAgfVxuXG4gICAgZ2V0RmlsZW5hbWUodmlldzogTWFya2Rvd25GaWxlSW5mbykge1xuICAgICAgICBpZiAoIXZpZXcuZmlsZT8ubmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MucHJvamVjdFByZWZpeDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB2aWV3LmZpbGUubmFtZS5zcGxpdCgnLicpWzBdO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb251bmxvYWQoKSB7XG5cbiAgICB9XG5cbiAgICBhc3luYyBsb2FkU2V0dGluZ3MoKSB7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBhd2FpdCB0aGlzLmxvYWREYXRhKCkpO1xuICAgIH1cblxuICAgIGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcbiAgICB9XG59XG5cblxuY2xhc3MgUHJvamVjdFRhc2tzU2V0dGluZ3NUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcbiAgICBwbHVnaW46IFByb2plY3RUYXNrcztcblxuICAgIGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IFByb2plY3RUYXNrcykge1xuICAgICAgICBzdXBlcihhcHAsIHBsdWdpbik7XG4gICAgICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xuICAgIH1cblxuICAgIGRpc3BsYXkoKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHtjb250YWluZXJFbH0gPSB0aGlzO1xuXG4gICAgICAgIGNvbnRhaW5lckVsLmVtcHR5KCk7XG5cbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAgICAgICAuc2V0TmFtZSgnUHJvamVjdCBJRCBtZXRob2QnKVxuICAgICAgICAgICAgLnNldERlc2MoJ0Nob29zZSBob3cgdGhlIElEIHdpbGwgYmUgZGV0ZXJtaW5lZCcpXG4gICAgICAgICAgICAuYWRkRHJvcGRvd24oZHJvcERvd24gPT4ge1xuICAgICAgICAgICAgICAgIGRyb3BEb3duLmFkZE9wdGlvbignMScsICdVc2UgcHJlZml4Jyk7XG4gICAgICAgICAgICAgICAgZHJvcERvd24uYWRkT3B0aW9uKCcyJywgJ1VzZSBTZWN0aW9uIG5hbWUnKTtcbiAgICAgICAgICAgICAgICBkcm9wRG93bi5hZGRPcHRpb24oJzMnLCAnVXNlIGZpbGVuYW1lJylcbiAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmlkUHJlZml4TWV0aG9kKVxuICAgICAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5pZFByZWZpeE1ldGhvZCA9IHZhbHVlIGFzIFByZWZpeE1ldGhvZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAgICAgICAuc2V0TmFtZSgnUHJvamVjdCBJRCBwcmVmaXgnKVxuICAgICAgICAgICAgLnNldERlc2MoJ1ByZWZpeCB0byB1c2Ugd2hlbiBjcmVhdGluZyBhbiBJRCBmb3IgYSB0YXNrJylcbiAgICAgICAgICAgIC5hZGRUZXh0KHRleHQgPT4gdGV4dFxuICAgICAgICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcignSUQgcHJlZml4JylcbiAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MucHJvamVjdFByZWZpeClcbiAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnByb2plY3RQcmVmaXggPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgICAgICAgLnNldE5hbWUoJ0xlbmd0aCBvZiByYW5kb20gSUQgbnVtYmVyJylcbiAgICAgICAgICAgIC5zZXREZXNjKCdIb3cgbWFueSBkaWdpdHMgdG8gdXNlIGZvciByYW5kb20gSUQgd2hlbiB1c2luZyBhIGZpeGVkIHByZWZpeCcpXG4gICAgICAgICAgICAuYWRkU2xpZGVyKHRleHQgPT4gdGV4dFxuICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5yYW5kb21JRExlbmd0aClcbiAgICAgICAgICAgICAgICAuc2V0TGltaXRzKDMsIDYsIDEpXG4gICAgICAgICAgICAgICAgLnNldER5bmFtaWNUb29sdGlwKClcbiAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnJhbmRvbUlETGVuZ3RoID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgIH0pKTtcblxuICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgICAgICAgIC5zZXROYW1lKCdJbml0aWFsIHNlcXVlbnRpYWwgSUQgbnVtYmVyJylcbiAgICAgICAgICAgIC5zZXREZXNjKCdTdGFydCBudW1iZXIgZm9yIHNlcXVlbnRpYWwgSURcXCdzJylcbiAgICAgICAgICAgIC5hZGRTbGlkZXIodGV4dCA9PiB0ZXh0XG4gICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnNlcXVlbnRpYWxTdGFydE51bWJlcilcbiAgICAgICAgICAgICAgICAuc2V0TGltaXRzKDAsIDEsIDEpXG4gICAgICAgICAgICAgICAgLnNldER5bmFtaWNUb29sdGlwKClcbiAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnNlcXVlbnRpYWxTdGFydE51bWJlciA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAgICAgICAuc2V0TmFtZSgnUmVtb3ZlIHZvd2VscycpXG4gICAgICAgICAgICAuc2V0RGVzYygnUmVtb3ZlIHZvd2VscyBmcm9tIHRoZSBwcmVmaXggd2hlbiBnZXR0aW5nIGZyb20gdGhlIGZpbGVuYW1lIG9yIGJsb2NrIG5hbWUnKVxuICAgICAgICAgICAgLmFkZFRvZ2dsZSh0ZXh0ID0+IHRleHRcbiAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MucmVtb3ZlVm93ZWxzKVxuICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MucmVtb3ZlVm93ZWxzID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgIH0pKTtcblxuICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgICAgICAgIC5zZXROYW1lKCdGaXJzdCBsZXR0ZXIgb2Ygd29yZHMnKVxuICAgICAgICAgICAgLnNldERlc2MoJ09ubHkgdXNlIHRoZSBmaXJzdCBsZXR0ZXIgb2Ygd29yZHMgdG8gZm9ybSB0aGUgcHJlZml4JylcbiAgICAgICAgICAgIC5hZGRUb2dnbGUodGV4dCA9PiB0ZXh0XG4gICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmZpcnN0TGV0dGVyc09mV29yZHMpXG4gICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5maXJzdExldHRlcnNPZldvcmRzID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgIH0pKTtcblxuICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgICAgICAgIC5zZXROYW1lKCdBdXRvbWF0aWNhbGx5IGFkZCBUYWcnKVxuICAgICAgICAgICAgLnNldERlc2MoJ0EgdGFnIHRvIGFkZCB0byBlYWNoIHRhc2sgLSBkbyBub3QgaW5jbHVkZSB0aGUgIyBzeW1ib2wnKVxuICAgICAgICAgICAgLmFkZFRleHQodGV4dCA9PiB0ZXh0XG4gICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmF1dG9tYXRpY1RhZ05hbWUpXG4gICAgICAgICAgICAgICAgLnNldFBsYWNlaG9sZGVyKFwiVGFnIE5hbWVcIilcbiAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmF1dG9tYXRpY1RhZ05hbWUgPSB2YWx1ZS5yZXBsYWNlQWxsKCcjJywgJycpO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAgICAgICAuc2V0TmFtZSgnTmVzdGVkIHRhZ3MgYmVoYXZpb3VyJylcbiAgICAgICAgICAgIC5zZXREZXNjKCdEZXRlcm1pbmVzIHdoZXRoZXIgbmVzdGVkIHRhZ3Mgd2lsbCBjcmVhdGUgcGFyYWxsZWwgZXhlY3V0aW9uIHRhZ3Mgb3Igc2VxdWVudGlhbCcpXG4gICAgICAgICAgICAuYWRkRHJvcGRvd24oZHJvcERvd24gPT4ge1xuICAgICAgICAgICAgICAgIGRyb3BEb3duLmFkZE9wdGlvbignMScsICdQYXJhbGxlbCBFeGVjdXRpb24nKTtcbiAgICAgICAgICAgICAgICBkcm9wRG93bi5hZGRPcHRpb24oJzInLCAnU2VxdWVudGlhbCBFeGVjdXRpb24nKVxuICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MubmVzdGVkVGFza0JlaGF2aW9yKVxuICAgICAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5uZXN0ZWRUYXNrQmVoYXZpb3IgPSB2YWx1ZSBhcyBOZXN0aW5nQmVoYXZpb3VyO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59XG5cbiIsICJpbXBvcnQge0VkaXRvcn0gZnJvbSBcIm9ic2lkaWFuXCI7XG5cbi8vIFJlZ2V4IGZvciBibG9jayBib3VuZGFyeVxuY29uc3QgQkxPQ0tfQk9VTkRBUlkgPSAvXiMrXFxzLztcbmNvbnN0IERFQlVHID0gdHJ1ZTtcblxuaW50ZXJmYWNlIFNpbXBsZUN1cnNvciB7XG4gICAgbGluZTogbnVtYmVyXG59XG5cbmludGVyZmFjZSBTaW1wbGVFZGl0b3Ige1xuICAgIC8vIFRoaXMgaW50ZXJmYWNlIGlzIGNyZWF0ZWQgdG8gaGVscCB3aXRoIHRoZSBmdW5jdGlvbnMgaGVyZSB0aGF0IG5lZWQgdGhlIE9ic2lkaWFuIEVkaXRvclxuICAgIGdldEN1cnNvcigpOiBTaW1wbGVDdXJzb3I7XG4gICAgZ2V0TGluZShuOiBudW1iZXIpOiBzdHJpbmc7XG4gICAgbGluZUNvdW50KCk6IG51bWJlclxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBIZWxwZXIge1xuICAgIC8vIFNpbXBsZSBoZWxwZXIgY2xhc3MgdGhhdCBjb250YWlucyB0aGUgYnVzaW5lc3MgbG9naWNcbiAgICAvLyBvZiB0aGUgYXBwLiBUaGlzIGlzIGV4dHJhY3RlZCBoZXJlIHRvIGFsbG93IHVuaXQgdGVzdGluZ1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXROZXN0aW5nTGV2ZWwodGFza19tYXJrZXI6IHN0cmluZyk6IG51bWJlciB7XG4gICAgICAgIC8vIFRoZSBuZXN0aW5nIGxldmVsIGlzIHRoZSBudW1iZXIgb2Ygc3BhY2VzIGJlZm9yZSB0aGUgZmlyc3QgXCItXCIgY2hhcmFjdGVyXG4gICAgICAgIGxldCBwYXJ0cyA9IHRhc2tfbWFya2VyLnJlcGxhY2VBbGwoXCJcXG5cIiwgXCJcIikuc3BsaXQoXCItXCIpO1xuICAgICAgICByZXR1cm4gcGFydHNbMF0ubGVuZ3RoO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZW5lcmF0ZVJhbmRvbURpZ2l0cyhsZW5ndGg6IG51bWJlcik6IHN0cmluZyB7XG4gICAgICBjb25zdCBkaWdpdHMgPSAnMDEyMzQ1Njc4OSc7XG4gICAgICBsZXQgcmFuZG9tU3RyaW5nID0gJyc7XG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgcmFuZG9tSW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBkaWdpdHMubGVuZ3RoKTtcbiAgICAgICAgcmFuZG9tU3RyaW5nICs9IGRpZ2l0c1tyYW5kb21JbmRleF07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByYW5kb21TdHJpbmc7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldFByZWZpeEZyb21TdHJpbmcodGV4dDogc3RyaW5nLCBmaXJzdF9sZXR0ZXJzOiBib29sZWFuLCByZW1vdmVfdm93ZWxzOiBib29sZWFuKSB7XG4gICAgICAgIC8vIFJlbW92ZSBhbnkgc3BlY2lhbCBzaWduc1xuICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlQWxsKC9bI1xcW1xcXV0vZywgJycpO1xuICAgICAgICAvLyBCcmVhayBpbnRvIHdvcmRzXG4gICAgICAgIGxldCB3b3JkcyA9IHRleHQuc3BsaXQoL1xccysvKTtcbiAgICAgICAgdGV4dCA9IFwiXCI7XG4gICAgICAgIGZvciAobGV0IHdvcmQgb2Ygd29yZHMpIHtcbiAgICAgICAgICAgIGlmICh3b3JkKSB7XG4gICAgICAgICAgICAgICAgdGV4dCA9IGAke3RleHR9JHt3b3JkWzBdLnRvVXBwZXJDYXNlKCl9YDtcbiAgICAgICAgICAgICAgICBpZiAoIWZpcnN0X2xldHRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJlbWFpbmRlciA9IHdvcmQuc2xpY2UoMSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSB2b3dlbHMgaWYgbmVlZGVkXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZW1vdmVfdm93ZWxzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZW1haW5kZXIgPSByZW1haW5kZXIucmVwbGFjZUFsbCgvW2FlaW91XS9nLCAnJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGV4dCA9IGAke3RleHR9JHtyZW1haW5kZXJ9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVtb3ZlIHNwYWNlc1xuICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlQWxsKCcgJywgJycpO1xuICAgICAgICByZXR1cm4gdGV4dDtcbiAgICB9XG5cbiAgICBzdGF0aWMgY2xlYXJCbG9ja0lEcyhzZWw6IHN0cmluZywgYXV0b21hdGljX3RhZzogc3RyaW5nKSB7XG4gICAgICAgIC8vIFJlbW92ZSBleGlzdGluZyBJRCdzXG4gICAgICAgIGxldCByZW1vdmVfaWQgPSAvXHVEODNDXHVERDk0XFxzW1xcdyxdK1sgXFx0XSovZztcbiAgICAgICAgc2VsID0gc2VsLnJlcGxhY2VBbGwocmVtb3ZlX2lkLCAnJyk7XG5cbiAgICAgICAgLy8gUmVtb3ZlIGV4aXN0aW5nIEJsb2Nrc1xuICAgICAgICBsZXQgcmVtb3ZlX2Jsb2NrID0gL1x1MjZENFxcc1tcXHcsXStbIFxcdF0qL2c7XG4gICAgICAgIHNlbCA9IHNlbC5yZXBsYWNlQWxsKHJlbW92ZV9ibG9jaywgJycpO1xuXG4gICAgICAgIC8vIFJlbW92ZSBleGlzdGluZyB0YWdzXG4gICAgICAgIGlmIChhdXRvbWF0aWNfdGFnKSB7XG4gICAgICAgICAgICBsZXQgcmVtb3ZlX3RhZyA9IG5ldyBSZWdFeHAoXCJeKFxcXFxzKi1cXFxcc1xcXFxbWyB4XFxcXC1cXFxcL11cXF1cXFxccy4qKSgjXCIgKyBhdXRvbWF0aWNfdGFnICsgXCIpKC4qKSRcIiwgXCJtZ1wiKTtcbiAgICAgICAgICAgIHNlbCA9IHNlbC5yZXBsYWNlQWxsKHJlbW92ZV90YWcsICckMSAkMycpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNlbDtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0QmxvY2tFbmQoZWRpdG9yOiBTaW1wbGVFZGl0b3IpIHtcbiAgICAgICAgLy8gRmluZCB0aGUgZW5kIG9mIHRoZSBibG9ja1xuICAgICAgICBsZXQgYmxvY2tFbmQgPSBlZGl0b3IuZ2V0Q3Vyc29yKCkubGluZTtcbiAgICAgICAgaWYgKGJsb2NrRW5kID49IGVkaXRvci5saW5lQ291bnQoKSAtIDEpIHJldHVybiBibG9ja0VuZCArIDE7XG4gICAgICAgIGJsb2NrRW5kICs9IDE7XG4gICAgICAgIHdoaWxlICghQkxPQ0tfQk9VTkRBUlkudGVzdChlZGl0b3IuZ2V0TGluZShibG9ja0VuZCkpKSB7XG4gICAgICAgICAgICBibG9ja0VuZCsrO1xuICAgICAgICAgICAgaWYgKGJsb2NrRW5kID4gZWRpdG9yLmxpbmVDb3VudCgpIC0gMSkgcmV0dXJuIGJsb2NrRW5kO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBibG9ja0VuZDtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0QmxvY2tTdGFydChlZGl0b3I6IFNpbXBsZUVkaXRvcikge1xuICAgICAgICAvLyBGaW5kIHRoZSBzdGFydCBvZiB0aGUgYmxvY2tcbiAgICAgICAgbGV0IGJsb2NrU3RhcnQgPSBlZGl0b3IuZ2V0Q3Vyc29yKCkubGluZTtcbiAgICAgICAgaWYgKEJMT0NLX0JPVU5EQVJZLnRlc3QoZWRpdG9yLmdldExpbmUoYmxvY2tTdGFydCkpKSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5taW4oZWRpdG9yLmxpbmVDb3VudCgpIC0xLCBibG9ja1N0YXJ0ICsgMSk7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKGJsb2NrU3RhcnQgPiAwICYmICFCTE9DS19CT1VOREFSWS50ZXN0KGVkaXRvci5nZXRMaW5lKGJsb2NrU3RhcnQgLSAxKSkpIHtcbiAgICAgICAgICAgIGJsb2NrU3RhcnQtLTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYmxvY2tTdGFydDtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0U2VjdGlvbk5hbWUoZWRpdG9yOiBTaW1wbGVFZGl0b3IsIGZpbGVfbmFtZTogc3RyaW5nKSB7XG4gICAgICAgIGxldCBzZWN0aW9uX3N0YXJ0ID0gSGVscGVyLmdldEJsb2NrU3RhcnQoZWRpdG9yKTtcbiAgICAgICAgaWYgKHNlY3Rpb25fc3RhcnQgPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZpbGVfbmFtZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGVkaXRvci5nZXRMaW5lKHNlY3Rpb25fc3RhcnQtMSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgYWRkVGFza0lEcyhzZWw6IHN0cmluZywgcHJlZml4OiBzdHJpbmcsIGF1dG9tYXRpY190YWc6IHN0cmluZywgcGFyYWxsZWw6IGJvb2xlYW4sIHVzZV9wcmVmaXg6IGJvb2xlYW4sXG4gICAgICAgICAgICAgICAgICAgICAgcmFuZG9tX2lkX2xlbmd0aDogbnVtYmVyLCBzZXF1ZW50aWFsX3N0YXJ0OiBudW1iZXIpIHtcbiAgICAgICAgY29uc3QgcmVnZXggPSAvXihcXHMqLVxcc1xcW1sgeFxcLVxcL11cXF1cXHMpPyguKikkL21nO1xuXG4gICAgICAgIC8vIENsZWFyIGFsbCB0aGUgZXhpc3RpbmcgYmxvY2sgYW5kIHByb2plY3QgSUQnc1xuICAgICAgICBzZWwgPSBIZWxwZXIuY2xlYXJCbG9ja0lEcyhzZWwsIGF1dG9tYXRpY190YWcpO1xuXG4gICAgICAgIGlmIChERUJVRykgY29uc29sZS5sb2coYFJlcGxhY2VkIGlkcyBhbmQgYmxvY2tzIHRvIGdpdmU6ICR7c2VsfWApO1xuXG4gICAgICAgIGNvbnN0IG1hdGNoZXMgPSBzZWwubWF0Y2hBbGwocmVnZXgpO1xuICAgICAgICBsZXQgbGluZXMgPSBcIlwiO1xuICAgICAgICBsZXQgZmlyc3QgPSB0cnVlO1xuICAgICAgICBsZXQgaWR4ID0gMDtcbiAgICAgICAgbGV0IG5lc3RpbmdfaWRzID0gW1wiMDpFUlJPUiFcIl07XG4gICAgICAgIGxldCBjdXJyZW50X25lc3RpbmcgPSAwO1xuICAgICAgICBsZXQgaXNfcGFyYWxsZWwgPSBmYWxzZTtcbiAgICAgICAgbGV0IHRoaXNfaWQ7XG5cbiAgICAgICAgLy8gR28gdGhyb3VnaCBhbGwgdGhlIGxpbmVzIGFuZCBhZGQgYXBwcm9wcmlhdGUgSUQgYW5kIGJsb2NrIHRhZ3NcbiAgICAgICAgZm9yIChjb25zdCBtYXRjaCBvZiBtYXRjaGVzKSB7XG4gICAgICAgICAgICBpZiAoIWZpcnN0KSB7XG4gICAgICAgICAgICAgICAgbGluZXMgKz0gXCJcXG5cIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElzIHRoaXMgYSB0YXNrIGxpbmUgYXQgYWxsP1xuICAgICAgICAgICAgaWYgKG1hdGNoWzFdKSB7XG4gICAgICAgICAgICAgICAgLy8gV2F0Y2ggb3V0IGZvciBjaGFuZ2VzIGluIG5lc3RpbmdcbiAgICAgICAgICAgICAgICBpZiAocGFyYWxsZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5lc3RpbmdfZGVwdGggPSBIZWxwZXIuZ2V0TmVzdGluZ0xldmVsKG1hdGNoWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5lc3RpbmdfZGVwdGggPiBjdXJyZW50X25lc3RpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFkZCBhIG5ldyBsZXZlbCBvZiBuZXN0aW5nXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50X25lc3RpbmcgKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzX3BhcmFsbGVsID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5lc3RpbmdfaWRzLnB1c2goYGApO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG5lc3RpbmdfZGVwdGggPCBjdXJyZW50X25lc3RpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBsZXZlbHMgb2YgbmVzdGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGN1cnJlbnRfbmVzdGluZyA+IG5lc3RpbmdfZGVwdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50X25lc3RpbmcgLT0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmVzdGVkID0gbmVzdGluZ19pZHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5lc3RlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXN0aW5nX2lkc1tuZXN0aW5nX2lkcy5sZW5ndGggLSAxXSArPSBgLCR7bmVzdGVkfWA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzX3BhcmFsbGVsID0gY3VycmVudF9uZXN0aW5nID4gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgdGhpc19saW5lO1xuICAgICAgICAgICAgICAgIC8vIEdldCBhbiBpZCB0byB1c2VcbiAgICAgICAgICAgICAgICBpZiAodXNlX3ByZWZpeCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzX2lkID0gYCR7cHJlZml4fSR7SGVscGVyLmdlbmVyYXRlUmFuZG9tRGlnaXRzKHJhbmRvbV9pZF9sZW5ndGgpfWA7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpc19pZCA9IGAke3ByZWZpeH0ke2lkeCArIHNlcXVlbnRpYWxfc3RhcnR9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQWRkIHRoZSBpZCBpbnRvIHRoZXJlXG4gICAgICAgICAgICAgICAgbGV0IGNsZWFuZWRfbGluZSA9IG1hdGNoWzJdLnRyaW0oKTtcbiAgICAgICAgICAgICAgICAvLyBBZGQgYSBzcGFjZSBhdCB0aGUgZW5kIGlmIG5lZWRlZFxuICAgICAgICAgICAgICAgIGlmIChjbGVhbmVkX2xpbmUgIT0gXCJcIikgY2xlYW5lZF9saW5lICs9IFwiIFwiO1xuICAgICAgICAgICAgICAgIHRoaXNfbGluZSA9IGAke21hdGNoWzFdfSR7Y2xlYW5lZF9saW5lfVx1RDgzQ1x1REQ5NCAke3RoaXNfaWR9YDtcbiAgICAgICAgICAgICAgICBpZiAoaWR4ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBBZGQgdGhlIGJsb2NrcyBhZnRlciB0aGUgdmVyeSBmaXJzdCB0YXNrXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc19wYXJhbGxlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc19saW5lICs9IGAgXHUyNkQ0ICR7bmVzdGluZ19pZHNbY3VycmVudF9uZXN0aW5nIC0gMV19YDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNfbGluZSArPSBgIFx1MjZENCAke25lc3RpbmdfaWRzW25lc3RpbmdfaWRzLmxlbmd0aCAtIDFdfWA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBBZGQgYW4gYXV0b21hdGljIHRhZyBpZiB3ZSBuZWVkIGl0XG4gICAgICAgICAgICAgICAgaWYgKGF1dG9tYXRpY190YWcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpc19saW5lICs9IGAgIyR7YXV0b21hdGljX3RhZ31gO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIEFwcGVuZCB0aGlzIGxpbmVcbiAgICAgICAgICAgICAgICBsaW5lcyArPSB0aGlzX2xpbmU7XG4gICAgICAgICAgICAgICAgaWR4ICs9IDE7XG4gICAgICAgICAgICAgICAgaWYgKGlzX3BhcmFsbGVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXN0aW5nX2lkc1tuZXN0aW5nX2lkcy5sZW5ndGggLSAxXSkgbmVzdGluZ19pZHNbbmVzdGluZ19pZHMubGVuZ3RoIC0gMV0gKz0gXCIsXCI7XG4gICAgICAgICAgICAgICAgICAgIG5lc3RpbmdfaWRzW25lc3RpbmdfaWRzLmxlbmd0aCAtIDFdICs9IGAke3RoaXNfaWR9YDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBuZXN0aW5nX2lkc1tuZXN0aW5nX2lkcy5sZW5ndGggLSAxXSA9IHRoaXNfaWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChERUJVRykgY29uc29sZS5sb2coYE5lc3RpbmcgbGV2ZWwgJHtjdXJyZW50X25lc3Rpbmd9LCBpZHMgJHtuZXN0aW5nX2lkc31gKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gTm90IGEgdGFzayBsaW5lIHNvIGp1c3Qga2VlcCBpdCBhcyBpc1xuICAgICAgICAgICAgICAgIGxpbmVzICs9IGAke21hdGNoWzJdLnRyaW0oKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmlyc3QgPSBmYWxz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
