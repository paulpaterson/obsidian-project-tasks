/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => ProjectTasks
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");
var DEBUG = true;
var BLOCK_BOUNDARY = /^#+\s/;
var DEFAULT_SETTINGS = {
  idPrefixMethod: "1" /* UsePrefix */,
  projectPrefix: "prj",
  randomIDLength: 6,
  sequentialStartNumber: 1,
  removeVowels: false,
  firstLettersOfWords: false,
  automaticTagName: "Project"
};
var ProjectTasks = class extends import_obsidian.Plugin {
  async onload() {
    if (DEBUG)
      console.log("Project Tasks starting");
    await this.loadSettings();
    this.addCommand({
      id: "set-ids",
      name: "Set project ids on Selection",
      editorCallback: (editor, view) => {
        let sel = editor.getSelection();
        let lines = this.addTaskIDs(sel, this.getPrefix(editor, view));
        editor.replaceSelection(
          `${lines}`
        );
      }
    });
    this.addCommand({
      id: "clear-ids",
      name: "Clear project ids on Selection",
      editorCallback: (editor, view) => {
        let sel = editor.getSelection();
        let lines = this.clearBlockIDs(sel);
        editor.replaceSelection(
          `${lines}`
        );
      }
    });
    this.addCommand({
      id: "set-ids-block",
      name: "Set project ids on Block",
      editorCallback: (editor, view) => {
        this.blockUpdate(editor, this.getPrefix(editor, view), true);
      }
    });
    this.addCommand({
      id: "clear-ids-block",
      name: "Clear project ids on Block",
      editorCallback: (editor, view) => {
        this.blockUpdate(editor, this.getPrefix(editor, view), false);
      }
    });
    this.addCommand({
      id: "add-project-task-list",
      name: "Add active project task list",
      editorCallback: (editor, view) => {
        this.addActiveProjectList(editor);
      }
    });
    this.addSettingTab(new ProjectTasksSettingsTab(this.app, this));
  }
  addActiveProjectList(editor) {
    const active_tasks_view = `\`\`\`tasks
tags includes #${this.settings.automaticTagName}
not done
hide backlink
is not blocked
\`\`\``;
    editor.replaceSelection(active_tasks_view);
  }
  blockUpdate(editor, prefix, add_ids) {
    const cursor = editor.getCursor();
    const line = editor.getLine(cursor.line);
    let blockStart = this.getBlockStart(editor);
    let blockEnd = this.getBlockEnd(editor);
    let last_line_length = editor.getLine(blockEnd + 1).length;
    const blockContent = editor.getRange({ line: blockStart, ch: 0 }, { line: blockEnd, ch: last_line_length });
    if (DEBUG)
      console.log(`Start ${blockStart}, End ${blockEnd}, last length ${last_line_length}
Orig: ${blockContent}`);
    let lines;
    if (add_ids) {
      lines = this.addTaskIDs(blockContent, prefix);
    } else {
      lines = this.clearBlockIDs(blockContent);
    }
    if (DEBUG)
      console.log(`Start ${blockStart}, End ${blockEnd}, last length ${last_line_length}
Orig: ${blockContent}
New: ${lines}`);
    editor.replaceRange(lines, { line: blockStart, ch: 0 }, { line: blockEnd, ch: last_line_length });
  }
  getBlockEnd(editor) {
    let blockEnd = editor.getCursor().line;
    while (!BLOCK_BOUNDARY.test(editor.getLine(blockEnd))) {
      blockEnd++;
      if (blockEnd > editor.lineCount() - 1)
        return blockEnd;
    }
    return blockEnd;
  }
  getBlockStart(editor) {
    let blockStart = editor.getCursor().line;
    while (blockStart > 0 && !BLOCK_BOUNDARY.test(editor.getLine(blockStart - 1))) {
      blockStart--;
    }
    return blockStart;
  }
  generateRandomDigits(length) {
    const digits = "0123456789";
    let randomString = "";
    for (let i = 0; i < length; i++) {
      const randomIndex = Math.floor(Math.random() * digits.length);
      randomString += digits[randomIndex];
    }
    return randomString;
  }
  clearBlockIDs(sel) {
    let remove_id = /\h?ðŸ†”\s\w+\h*/g;
    sel = sel.replaceAll(remove_id, "");
    let remove_block = /\h?â›”\s\w+\h*/g;
    sel = sel.replaceAll(remove_block, "");
    if (this.settings.automaticTagName) {
      let remove_tag = new RegExp("^(-\\s\\[[ x\\-\\/]]\\s.*)(#" + this.settings.automaticTagName + ")(.*)$", "mg");
      sel = sel.replaceAll(remove_tag, "$1 $3");
    }
    return sel;
  }
  getPrefix(editor, view) {
    let raw_prefix;
    switch (this.settings.idPrefixMethod) {
      case "1" /* UsePrefix */: {
        raw_prefix = this.settings.projectPrefix;
        break;
      }
      case "3" /* FileName */: {
        raw_prefix = this.getFilename(view);
        break;
      }
      case "2" /* SectionName */: {
        let section_start = this.getBlockStart(editor);
        let section_line;
        if (section_start == 0) {
          section_line = "";
        } else {
          section_line = editor.getLine(section_start - 1);
        }
        if (DEBUG)
          console.log("Prefix check .. Found section: ", section_start, section_line);
        if (BLOCK_BOUNDARY.test(section_line)) {
          raw_prefix = section_line;
        } else {
          raw_prefix = this.getFilename(view);
        }
        break;
      }
    }
    return this.getPrefixFromString(raw_prefix);
  }
  getFilename(view) {
    var _a;
    if (!((_a = view.file) == null ? void 0 : _a.name)) {
      return this.settings.projectPrefix;
    } else {
      return view.file.name.split(".")[0];
    }
  }
  getPrefixFromString(text) {
    text = text.replaceAll(/[#\[\]]/g, "");
    if (this.settings.firstLettersOfWords) {
      let words = text.split(/\s+/);
      if (DEBUG)
        console.log("found words", words);
      text = "";
      for (let word of words) {
        if (word) {
          text = `${text}${word[0].toUpperCase()}`;
        }
      }
    }
    text = text.replaceAll(" ", "");
    if (this.settings.removeVowels) {
      text = text.replaceAll(/[aeiou]/g, "");
    }
    return text;
  }
  addTaskIDs(sel, prefix) {
    const regex = /^(-\s\[[ x\-\/]\]\s)?(.*)$/mg;
    sel = this.clearBlockIDs(sel);
    if (DEBUG)
      console.log(`Replaced ids and blocks to give: ${sel}`);
    const matches = sel.matchAll(regex);
    let lines = "";
    let first = true;
    let idx = 0;
    let this_id;
    let last_id;
    for (const match of matches) {
      if (!first) {
        lines += "\n";
      }
      if (match[1]) {
        let this_line;
        if (this.settings.idPrefixMethod == "1" /* UsePrefix */) {
          this_id = this.generateRandomDigits(this.settings.randomIDLength);
        } else {
          this_id = `${idx + this.settings.sequentialStartNumber}`;
        }
        this_line = `${match[1]}${match[2].trim()} \u{1F194} ${prefix}${this_id}`;
        if (idx > 0) {
          this_line += ` \u26D4 ${prefix}${last_id}`;
        }
        if (this.settings.automaticTagName) {
          this_line += ` #${this.settings.automaticTagName}`;
        }
        lines += this_line;
        idx += 1;
        last_id = this_id;
      } else {
        lines += `${match[2].trim()}`;
      }
      first = false;
    }
    return lines;
  }
  onunload() {
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};
var ProjectTasksSettingsTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    new import_obsidian.Setting(containerEl).setName("Project ID method").setDesc("Choose how the ID will be determined").addDropdown((dropDown) => {
      dropDown.addOption("1", "Use prefix");
      dropDown.addOption("2", "Use Section name");
      dropDown.addOption("3", "Use filename").setValue(this.plugin.settings.idPrefixMethod).onChange(async (value) => {
        this.plugin.settings.idPrefixMethod = value;
        await this.plugin.saveSettings();
      });
    });
    new import_obsidian.Setting(containerEl).setName("Project ID prefix").setDesc("Prefix to use when creating an ID for a task").addText((text) => text.setPlaceholder("ID prefix").setValue(this.plugin.settings.projectPrefix).onChange(async (value) => {
      this.plugin.settings.projectPrefix = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Length of random ID number").setDesc("How many digits to use for random ID when using a fixed prefix").addSlider((text) => text.setValue(this.plugin.settings.randomIDLength).setLimits(3, 6, 1).setDynamicTooltip().onChange(async (value) => {
      this.plugin.settings.randomIDLength = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Initial sequential ID number").setDesc("Start number for sequential ID's").addSlider((text) => text.setValue(this.plugin.settings.sequentialStartNumber).setLimits(0, 1, 1).setDynamicTooltip().onChange(async (value) => {
      this.plugin.settings.sequentialStartNumber = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Remove vowels").setDesc("Remove vowels from the prefix when getting from the filename or block name").addToggle((text) => text.setValue(this.plugin.settings.removeVowels).onChange(async (value) => {
      this.plugin.settings.removeVowels = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("First letter of words").setDesc("Only use the first letter of words to form the prefix").addToggle((text) => text.setValue(this.plugin.settings.firstLettersOfWords).onChange(async (value) => {
      this.plugin.settings.firstLettersOfWords = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Automatically add Tag").setDesc("A tag to add to each task - do not include the # symbol").addText((text) => text.setValue(this.plugin.settings.automaticTagName).setPlaceholder("Tag Name").onChange(async (value) => {
      this.plugin.settings.automaticTagName = value.replaceAll("#", "");
      await this.plugin.saveSettings();
    }));
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHtcbiAgICBBcHAsXG4gICAgRWRpdG9yLFxuICAgIEVkaXRvclBvc2l0aW9uLCBNYXJrZG93bkZpbGVJbmZvLFxuICAgIE1hcmtkb3duVmlldyxcbiAgICBNb2RhbCxcbiAgICBOb3RpY2UsXG4gICAgUGx1Z2luLFxuICAgIFBsdWdpblNldHRpbmdUYWIsXG4gICAgU2V0dGluZyxcbiAgICBWaWV3XG59IGZyb20gJ29ic2lkaWFuJztcblxuLy8gVHVybiBvbiB0byBhbGxvdyBkZWJ1Z2dpbmcgaW4gdGhlIGNvbnNvbGVcbmNvbnN0IERFQlVHID0gdHJ1ZTtcbi8vIFJlZ2V4IGZvciBibG9jayBib3VuZGFyeVxuY29uc3QgQkxPQ0tfQk9VTkRBUlkgPSAvXiMrXFxzLztcblxuXG5cbmVudW0gUHJlZml4TWV0aG9kIHtcbiAgICBVc2VQcmVmaXg9ICcxJyxcbiAgICBTZWN0aW9uTmFtZSA9ICcyJyxcbiAgICBGaWxlTmFtZSA9ICczJ1xufVxuXG5pbnRlcmZhY2UgUHJvamVjdFRhc2tzU2V0dGluZ3Mge1xuICAgIGlkUHJlZml4TWV0aG9kOiBQcmVmaXhNZXRob2Q7XG4gICAgcHJvamVjdFByZWZpeDogc3RyaW5nO1xuICAgIHJhbmRvbUlETGVuZ3RoOiBudW1iZXI7XG4gICAgc2VxdWVudGlhbFN0YXJ0TnVtYmVyOiBudW1iZXI7XG4gICAgcmVtb3ZlVm93ZWxzOiBib29sZWFuO1xuICAgIGZpcnN0TGV0dGVyc09mV29yZHM6IGJvb2xlYW47XG4gICAgYXV0b21hdGljVGFnTmFtZTogc3RyaW5nO1xufVxuXG5jb25zdCBERUZBVUxUX1NFVFRJTkdTOiBQcm9qZWN0VGFza3NTZXR0aW5ncyA9IHtcbiAgICBpZFByZWZpeE1ldGhvZDogUHJlZml4TWV0aG9kLlVzZVByZWZpeCxcbiAgICBwcm9qZWN0UHJlZml4OiAncHJqJyxcbiAgICByYW5kb21JRExlbmd0aDogNixcbiAgICBzZXF1ZW50aWFsU3RhcnROdW1iZXI6IDEsXG4gICAgcmVtb3ZlVm93ZWxzOiBmYWxzZSxcbiAgICBmaXJzdExldHRlcnNPZldvcmRzOiBmYWxzZSxcbiAgICBhdXRvbWF0aWNUYWdOYW1lOiBcIlByb2plY3RcIixcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvamVjdFRhc2tzIGV4dGVuZHMgUGx1Z2luIHtcbiAgICBzZXR0aW5nczogUHJvamVjdFRhc2tzU2V0dGluZ3M7XG5cbiAgICBhc3luYyBvbmxvYWQoKSB7XG4gICAgICAgIGlmIChERUJVRykgY29uc29sZS5sb2coJ1Byb2plY3QgVGFza3Mgc3RhcnRpbmcnKTtcblxuICAgICAgICBhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xuXG4gICAgICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICAgICAgICBpZDogXCJzZXQtaWRzXCIsXG4gICAgICAgICAgICBuYW1lOiBcIlNldCBwcm9qZWN0IGlkcyBvbiBTZWxlY3Rpb25cIixcbiAgICAgICAgICAgIGVkaXRvckNhbGxiYWNrOiAoZWRpdG9yLCB2aWV3KSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IHNlbCA9IGVkaXRvci5nZXRTZWxlY3Rpb24oKTtcbiAgICAgICAgICAgICAgICBsZXQgbGluZXMgPSB0aGlzLmFkZFRhc2tJRHMoc2VsLCB0aGlzLmdldFByZWZpeChlZGl0b3IsIHZpZXcpKTtcbiAgICAgICAgICAgICAgICBlZGl0b3IucmVwbGFjZVNlbGVjdGlvbihcbiAgICAgICAgICAgICAgICAgICAgYCR7bGluZXN9YFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICAgICAgICBpZDogXCJjbGVhci1pZHNcIixcbiAgICAgICAgICAgIG5hbWU6IFwiQ2xlYXIgcHJvamVjdCBpZHMgb24gU2VsZWN0aW9uXCIsXG4gICAgICAgICAgICBlZGl0b3JDYWxsYmFjazogKGVkaXRvciwgdmlldykgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBzZWwgPSBlZGl0b3IuZ2V0U2VsZWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgbGV0IGxpbmVzID0gdGhpcy5jbGVhckJsb2NrSURzKHNlbCk7XG4gICAgICAgICAgICAgICAgZWRpdG9yLnJlcGxhY2VTZWxlY3Rpb24oXG4gICAgICAgICAgICAgICAgICAgIGAke2xpbmVzfWBcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgICAgICAgaWQ6IFwic2V0LWlkcy1ibG9ja1wiLFxuICAgICAgICAgICAgbmFtZTogXCJTZXQgcHJvamVjdCBpZHMgb24gQmxvY2tcIixcbiAgICAgICAgICAgIGVkaXRvckNhbGxiYWNrOiAoZWRpdG9yLCB2aWV3KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5ibG9ja1VwZGF0ZShlZGl0b3IsIHRoaXMuZ2V0UHJlZml4KGVkaXRvciwgdmlldyksIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICAgICAgICBpZDogXCJjbGVhci1pZHMtYmxvY2tcIixcbiAgICAgICAgICAgIG5hbWU6IFwiQ2xlYXIgcHJvamVjdCBpZHMgb24gQmxvY2tcIixcbiAgICAgICAgICAgIGVkaXRvckNhbGxiYWNrOiAoZWRpdG9yLCB2aWV3KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5ibG9ja1VwZGF0ZShlZGl0b3IsIHRoaXMuZ2V0UHJlZml4KGVkaXRvciwgdmlldyksIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgICAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgICAgICAgaWQ6IFwiYWRkLXByb2plY3QtdGFzay1saXN0XCIsXG4gICAgICAgICAgICBuYW1lOiBcIkFkZCBhY3RpdmUgcHJvamVjdCB0YXNrIGxpc3RcIixcbiAgICAgICAgICAgIGVkaXRvckNhbGxiYWNrOiAoZWRpdG9yLCB2aWV3KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRBY3RpdmVQcm9qZWN0TGlzdChlZGl0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuXG4gICAgICAgIC8vIFRoaXMgYWRkcyBhIHNldHRpbmdzIHRhYiBzbyB0aGUgdXNlciBjYW4gY29uZmlndXJlIHZhcmlvdXMgYXNwZWN0cyBvZiB0aGUgcGx1Z2luXG4gICAgICAgIHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgUHJvamVjdFRhc2tzU2V0dGluZ3NUYWIodGhpcy5hcHAsIHRoaXMpKTtcblxuICAgIH1cblxuICAgIGFkZEFjdGl2ZVByb2plY3RMaXN0KGVkaXRvcjogRWRpdG9yKSB7XG4gICAgICAgIC8vIEEgdmlldyB0byBzaG93IGFjdGl2ZSB0YXNrc1xuICAgICAgICBjb25zdCBhY3RpdmVfdGFza3NfdmlldyA9IGBcXGBcXGBcXGB0YXNrc1xudGFncyBpbmNsdWRlcyAjJHt0aGlzLnNldHRpbmdzLmF1dG9tYXRpY1RhZ05hbWV9XG5ub3QgZG9uZVxuaGlkZSBiYWNrbGlua1xuaXMgbm90IGJsb2NrZWRcblxcYFxcYFxcYGA7XG4gICAgICAgIGVkaXRvci5yZXBsYWNlU2VsZWN0aW9uKGFjdGl2ZV90YXNrc192aWV3KTtcbiAgICB9XG5cbiAgICBibG9ja1VwZGF0ZShlZGl0b3I6IEVkaXRvciwgcHJlZml4OiBzdHJpbmcsIGFkZF9pZHM6IGJvb2xlYW4pIHtcbiAgICAgICAgY29uc3QgY3Vyc29yID0gZWRpdG9yLmdldEN1cnNvcigpO1xuICAgICAgICBjb25zdCBsaW5lID0gZWRpdG9yLmdldExpbmUoY3Vyc29yLmxpbmUpO1xuXG4gICAgICAgIC8vIEdldCB0aGUgYmxvY2sgYm91bmRhcmllc1xuICAgICAgICBsZXQgYmxvY2tTdGFydCA9IHRoaXMuZ2V0QmxvY2tTdGFydChlZGl0b3IpO1xuICAgICAgICBsZXQgYmxvY2tFbmQgPSB0aGlzLmdldEJsb2NrRW5kKGVkaXRvcik7XG4gICAgICAgIGxldCBsYXN0X2xpbmVfbGVuZ3RoID0gZWRpdG9yLmdldExpbmUoYmxvY2tFbmQgKyAxKS5sZW5ndGg7XG5cbiAgICAgICAgY29uc3QgYmxvY2tDb250ZW50ID0gZWRpdG9yLmdldFJhbmdlKHsgbGluZTogYmxvY2tTdGFydCwgY2g6IDAgfSwgeyBsaW5lOiBibG9ja0VuZCwgY2g6IGxhc3RfbGluZV9sZW5ndGggfSk7XG4gICAgICAgIGlmIChERUJVRykgY29uc29sZS5sb2coYFN0YXJ0ICR7YmxvY2tTdGFydH0sIEVuZCAke2Jsb2NrRW5kfSwgbGFzdCBsZW5ndGggJHtsYXN0X2xpbmVfbGVuZ3RofVxcbk9yaWc6ICR7YmxvY2tDb250ZW50fWApO1xuXG4gICAgICAgIGxldCBsaW5lcztcbiAgICAgICAgaWYgKGFkZF9pZHMpIHtcbiAgICAgICAgICAgIGxpbmVzID0gdGhpcy5hZGRUYXNrSURzKGJsb2NrQ29udGVudCwgcHJlZml4KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxpbmVzID0gdGhpcy5jbGVhckJsb2NrSURzKGJsb2NrQ29udGVudCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoREVCVUcpIGNvbnNvbGUubG9nKGBTdGFydCAke2Jsb2NrU3RhcnR9LCBFbmQgJHtibG9ja0VuZH0sIGxhc3QgbGVuZ3RoICR7bGFzdF9saW5lX2xlbmd0aH1cXG5PcmlnOiAke2Jsb2NrQ29udGVudH1cXG5OZXc6ICR7bGluZXN9YCk7XG4gICAgICAgIGVkaXRvci5yZXBsYWNlUmFuZ2UobGluZXMsIHsgbGluZTogYmxvY2tTdGFydCwgY2g6IDAgfSwgeyBsaW5lOiBibG9ja0VuZCwgY2g6IGxhc3RfbGluZV9sZW5ndGggfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRCbG9ja0VuZChlZGl0b3I6IEVkaXRvcikge1xuICAgICAgICAvLyBGaW5kIHRoZSBlbmQgb2YgdGhlIGJsb2NrXG4gICAgICAgIGxldCBibG9ja0VuZCA9IGVkaXRvci5nZXRDdXJzb3IoKS5saW5lO1xuICAgICAgICB3aGlsZSAoIUJMT0NLX0JPVU5EQVJZLnRlc3QoZWRpdG9yLmdldExpbmUoYmxvY2tFbmQpKSkge1xuICAgICAgICAgICAgYmxvY2tFbmQrKztcbiAgICAgICAgICAgIGlmIChibG9ja0VuZCA+IGVkaXRvci5saW5lQ291bnQoKSAtIDEpIHJldHVybiBibG9ja0VuZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYmxvY2tFbmQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRCbG9ja1N0YXJ0KGVkaXRvcjogRWRpdG9yKSB7XG4gICAgICAgIC8vIEZpbmQgdGhlIHN0YXJ0IG9mIHRoZSBibG9ja1xuICAgICAgICBsZXQgYmxvY2tTdGFydCA9IGVkaXRvci5nZXRDdXJzb3IoKS5saW5lO1xuICAgICAgICB3aGlsZSAoYmxvY2tTdGFydCA+IDAgJiYgIUJMT0NLX0JPVU5EQVJZLnRlc3QoZWRpdG9yLmdldExpbmUoYmxvY2tTdGFydCAtIDEpKSkge1xuICAgICAgICAgICAgYmxvY2tTdGFydC0tO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBibG9ja1N0YXJ0O1xuICAgIH1cblxuICAgIGdlbmVyYXRlUmFuZG9tRGlnaXRzKGxlbmd0aDogbnVtYmVyKTogc3RyaW5nIHtcbiAgICAgIGNvbnN0IGRpZ2l0cyA9ICcwMTIzNDU2Nzg5JztcbiAgICAgIGxldCByYW5kb21TdHJpbmcgPSAnJztcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCByYW5kb21JbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGRpZ2l0cy5sZW5ndGgpO1xuICAgICAgICByYW5kb21TdHJpbmcgKz0gZGlnaXRzW3JhbmRvbUluZGV4XTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJhbmRvbVN0cmluZztcbiAgICB9XG5cbiAgICBjbGVhckJsb2NrSURzKHNlbDogc3RyaW5nKSB7XG4gICAgICAgIC8vIFJlbW92ZSBleGlzdGluZyBJRCdzXG4gICAgICAgIGxldCByZW1vdmVfaWQgPSAvXFxoP1x1RDgzQ1x1REQ5NFxcc1xcdytcXGgqL2c7XG4gICAgICAgIHNlbCA9IHNlbC5yZXBsYWNlQWxsKHJlbW92ZV9pZCwgJycpO1xuXG4gICAgICAgIC8vIFJlbW92ZSBleGlzdGluZyBCbG9ja3NcbiAgICAgICAgbGV0IHJlbW92ZV9ibG9jayA9IC9cXGg/XHUyNkQ0XFxzXFx3K1xcaCovZztcbiAgICAgICAgc2VsID0gc2VsLnJlcGxhY2VBbGwocmVtb3ZlX2Jsb2NrLCAnJyk7XG5cbiAgICAgICAgLy8gUmVtb3ZlIGV4aXN0aW5nIHRhZ3NcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuYXV0b21hdGljVGFnTmFtZSkge1xuICAgICAgICAgICAgbGV0IHJlbW92ZV90YWcgPSBuZXcgUmVnRXhwKFwiXigtXFxcXHNcXFxcW1sgeFxcXFwtXFxcXC9dXFxdXFxcXHMuKikoI1wiICsgdGhpcy5zZXR0aW5ncy5hdXRvbWF0aWNUYWdOYW1lICsgXCIpKC4qKSRcIiwgXCJtZ1wiKTtcbiAgICAgICAgICAgIHNlbCA9IHNlbC5yZXBsYWNlQWxsKHJlbW92ZV90YWcsICckMSAkMycpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNlbDtcbiAgICB9XG5cbiAgICBnZXRQcmVmaXgoZWRpdG9yOiBFZGl0b3IsIHZpZXc6IE1hcmtkb3duRmlsZUluZm8pIHtcbiAgICAgICAgbGV0IHJhd19wcmVmaXg7XG4gICAgICAgIHN3aXRjaCAodGhpcy5zZXR0aW5ncy5pZFByZWZpeE1ldGhvZCkge1xuICAgICAgICAgICAgY2FzZSBQcmVmaXhNZXRob2QuVXNlUHJlZml4OiB7XG4gICAgICAgICAgICAgICAgcmF3X3ByZWZpeCA9IHRoaXMuc2V0dGluZ3MucHJvamVjdFByZWZpeDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgUHJlZml4TWV0aG9kLkZpbGVOYW1lOiB7XG4gICAgICAgICAgICAgICAgcmF3X3ByZWZpeCA9IHRoaXMuZ2V0RmlsZW5hbWUodmlldyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFByZWZpeE1ldGhvZC5TZWN0aW9uTmFtZToge1xuICAgICAgICAgICAgICAgIC8vIFRyeSB0byBmaW5kIHRoZSBuYW1lIG9mIHRoZSBibG9jayB0aGF0IGNvbnRhaW5zIHRoZSBjdXJzb3Igb3IgdGhlIHNlbGVjdGlvblxuICAgICAgICAgICAgICAgIGxldCBzZWN0aW9uX3N0YXJ0ID0gdGhpcy5nZXRCbG9ja1N0YXJ0KGVkaXRvcik7XG4gICAgICAgICAgICAgICAgbGV0IHNlY3Rpb25fbGluZTtcbiAgICAgICAgICAgICAgICBpZiAoc2VjdGlvbl9zdGFydCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlY3Rpb25fbGluZSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2VjdGlvbl9saW5lID0gZWRpdG9yLmdldExpbmUoc2VjdGlvbl9zdGFydC0xKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKERFQlVHKSBjb25zb2xlLmxvZygnUHJlZml4IGNoZWNrIC4uIEZvdW5kIHNlY3Rpb246ICcsIHNlY3Rpb25fc3RhcnQsIHNlY3Rpb25fbGluZSk7XG5cbiAgICAgICAgICAgICAgICAvLyBJcyB0aGVyZSBhIGJsb2NrIGF0IGFsbCBvciBhcmUgd2UganVzdCBpbiBhIGZpbGUgd2l0aCBubyBibG9ja3NcbiAgICAgICAgICAgICAgICBpZiAoQkxPQ0tfQk9VTkRBUlkudGVzdChzZWN0aW9uX2xpbmUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJhd19wcmVmaXggPSBzZWN0aW9uX2xpbmU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUmV0dXJuIHRoZSBmaWxlbmFtZSBhbnl3YXlcbiAgICAgICAgICAgICAgICAgICAgcmF3X3ByZWZpeCA9IHRoaXMuZ2V0RmlsZW5hbWUodmlldyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmdldFByZWZpeEZyb21TdHJpbmcocmF3X3ByZWZpeCk7XG4gICAgfVxuXG4gICAgZ2V0RmlsZW5hbWUodmlldzogTWFya2Rvd25GaWxlSW5mbykge1xuICAgICAgIGlmICghdmlldy5maWxlPy5uYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5wcm9qZWN0UHJlZml4O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHZpZXcuZmlsZS5uYW1lLnNwbGl0KCcuJylbMF07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRQcmVmaXhGcm9tU3RyaW5nKHRleHQ6IHN0cmluZykge1xuICAgICAgICAvLyBSZW1vdmUgYW55IHNwZWNpYWwgc2lnbnNcbiAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZUFsbCgvWyNcXFtcXF1dL2csICcnKTtcbiAgICAgICAgLy8gT25seSB1c2UgdGhlIGZpcnN0IGxldHRlcnMgb2Ygd29yZHMgaWYgbmVlZGVkXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmZpcnN0TGV0dGVyc09mV29yZHMpIHtcbiAgICAgICAgICAgIGxldCB3b3JkcyA9IHRleHQuc3BsaXQoL1xccysvKTtcbiAgICAgICAgICAgIGlmIChERUJVRykgY29uc29sZS5sb2coXCJmb3VuZCB3b3Jkc1wiLCB3b3Jkcyk7XG4gICAgICAgICAgICB0ZXh0ID0gXCJcIjtcbiAgICAgICAgICAgIGZvciAobGV0IHdvcmQgb2Ygd29yZHMpIHtcbiAgICAgICAgICAgICAgICBpZiAod29yZCkge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gYCR7dGV4dH0ke3dvcmRbMF0udG9VcHBlckNhc2UoKX1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBSZW1vdmUgc3BhY2VzXG4gICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2VBbGwoJyAnLCAnJyk7XG4gICAgICAgIC8vIFJlbW92ZSB2b3dlbHMgaWYgbmVlZGVkXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLnJlbW92ZVZvd2Vscykge1xuICAgICAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZUFsbCgvW2FlaW91XS9nLCAnJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgfVxuXG4gICAgYWRkVGFza0lEcyhzZWw6IHN0cmluZywgcHJlZml4OiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgcmVnZXggPSAvXigtXFxzXFxbWyB4XFwtXFwvXVxcXVxccyk/KC4qKSQvbWc7XG5cbiAgICAgICAgLy8gQ2xlYXIgYWxsIHRoZSBleGlzdGluZyBibG9jayBhbmQgcHJvamVjdCBJRCdzXG4gICAgICAgIHNlbCA9IHRoaXMuY2xlYXJCbG9ja0lEcyhzZWwpO1xuXG4gICAgICAgIGlmIChERUJVRykgY29uc29sZS5sb2coYFJlcGxhY2VkIGlkcyBhbmQgYmxvY2tzIHRvIGdpdmU6ICR7c2VsfWApO1xuXG4gICAgICAgIGNvbnN0IG1hdGNoZXMgPSBzZWwubWF0Y2hBbGwocmVnZXgpO1xuICAgICAgICBsZXQgbGluZXMgPSBcIlwiO1xuICAgICAgICBsZXQgZmlyc3QgPSB0cnVlO1xuICAgICAgICBsZXQgaWR4ID0gMDtcbiAgICAgICAgbGV0IHRoaXNfaWQ7XG4gICAgICAgIGxldCBsYXN0X2lkO1xuXG4gICAgICAgIC8vIEdvIHRocm91Z2ggYWxsIHRoZSBsaW5lcyBhbmQgYWRkIGFwcHJvcHJpYXRlIElEIGFuZCBibG9jayB0YWdzXG4gICAgICAgIGZvciAoY29uc3QgbWF0Y2ggb2YgbWF0Y2hlcykge1xuICAgICAgICAgICAgaWYgKCFmaXJzdCkge1xuICAgICAgICAgICAgICAgIGxpbmVzICs9IFwiXFxuXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJcyB0aGlzIGEgdGFzayBsaW5lIGF0IGFsbD9cbiAgICAgICAgICAgIGlmIChtYXRjaFsxXSkge1xuICAgICAgICAgICAgICAgIGxldCB0aGlzX2xpbmU7XG4gICAgICAgICAgICAgICAgLy8gR2V0IGFuIGlkIHRvIHVzZVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmlkUHJlZml4TWV0aG9kID09IFByZWZpeE1ldGhvZC5Vc2VQcmVmaXgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpc19pZCA9IHRoaXMuZ2VuZXJhdGVSYW5kb21EaWdpdHModGhpcy5zZXR0aW5ncy5yYW5kb21JRExlbmd0aCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpc19pZCA9IGAke2lkeCArIHRoaXMuc2V0dGluZ3Muc2VxdWVudGlhbFN0YXJ0TnVtYmVyfWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEFkZCB0aGUgaWQgaW50byB0aGVyZVxuICAgICAgICAgICAgICAgIHRoaXNfbGluZSA9IGAke21hdGNoWzFdfSR7bWF0Y2hbMl0udHJpbSgpfSBcdUQ4M0NcdUREOTQgJHtwcmVmaXh9JHt0aGlzX2lkfWA7XG4gICAgICAgICAgICAgICAgaWYgKGlkeCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQWRkIHRoZSBibG9ja3MgYWZ0ZXIgdGhlIHZlcnkgZmlyc3QgdGFza1xuICAgICAgICAgICAgICAgICAgICB0aGlzX2xpbmUgKz0gYCBcdTI2RDQgJHtwcmVmaXh9JHtsYXN0X2lkfWA7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gQWRkIGFuIGF1dG9tYXRpYyB0YWcgaWYgd2UgbmVlZCBpdFxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmF1dG9tYXRpY1RhZ05hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpc19saW5lICs9IGAgIyR7dGhpcy5zZXR0aW5ncy5hdXRvbWF0aWNUYWdOYW1lfWA7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gQXBwZW5kIHRoaXMgbGluZVxuICAgICAgICAgICAgICAgIGxpbmVzICs9IHRoaXNfbGluZTtcbiAgICAgICAgICAgICAgICBpZHggKz0gMTtcbiAgICAgICAgICAgICAgICBsYXN0X2lkID0gdGhpc19pZDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gTm90IGEgdGFzayBsaW5lIHNvIGp1c3Qga2VlcCBpdCBhcyBpc1xuICAgICAgICAgICAgICAgIGxpbmVzICs9IGAke21hdGNoWzJdLnRyaW0oKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmlyc3QgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGluZXM7XG4gICAgfVxuXG4gICAgb251bmxvYWQoKSB7XG5cbiAgICB9XG5cbiAgICBhc3luYyBsb2FkU2V0dGluZ3MoKSB7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBhd2FpdCB0aGlzLmxvYWREYXRhKCkpO1xuICAgIH1cblxuICAgIGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcbiAgICB9XG59XG5cblxuY2xhc3MgUHJvamVjdFRhc2tzU2V0dGluZ3NUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcbiAgICBwbHVnaW46IFByb2plY3RUYXNrcztcblxuICAgIGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IFByb2plY3RUYXNrcykge1xuICAgICAgICBzdXBlcihhcHAsIHBsdWdpbik7XG4gICAgICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xuICAgIH1cblxuICAgIGRpc3BsYXkoKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHtjb250YWluZXJFbH0gPSB0aGlzO1xuXG4gICAgICAgIGNvbnRhaW5lckVsLmVtcHR5KCk7XG5cbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAgICAgICAuc2V0TmFtZSgnUHJvamVjdCBJRCBtZXRob2QnKVxuICAgICAgICAgICAgLnNldERlc2MoJ0Nob29zZSBob3cgdGhlIElEIHdpbGwgYmUgZGV0ZXJtaW5lZCcpXG4gICAgICAgICAgICAuYWRkRHJvcGRvd24oZHJvcERvd24gPT4ge1xuICAgICAgICAgICAgICAgIGRyb3BEb3duLmFkZE9wdGlvbignMScsICdVc2UgcHJlZml4Jyk7XG4gICAgICAgICAgICAgICAgZHJvcERvd24uYWRkT3B0aW9uKCcyJywgJ1VzZSBTZWN0aW9uIG5hbWUnKTtcbiAgICAgICAgICAgICAgICBkcm9wRG93bi5hZGRPcHRpb24oJzMnLCAnVXNlIGZpbGVuYW1lJylcbiAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuaWRQcmVmaXhNZXRob2QpXG4gICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5pZFByZWZpeE1ldGhvZCA9IHZhbHVlIGFzIFByZWZpeE1ldGhvZDtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgfSl9KTtcblxuICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgICAgICAgIC5zZXROYW1lKCdQcm9qZWN0IElEIHByZWZpeCcpXG4gICAgICAgICAgICAuc2V0RGVzYygnUHJlZml4IHRvIHVzZSB3aGVuIGNyZWF0aW5nIGFuIElEIGZvciBhIHRhc2snKVxuICAgICAgICAgICAgLmFkZFRleHQodGV4dCA9PiB0ZXh0XG4gICAgICAgICAgICAgICAgLnNldFBsYWNlaG9sZGVyKCdJRCBwcmVmaXgnKVxuICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5wcm9qZWN0UHJlZml4KVxuICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MucHJvamVjdFByZWZpeCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAgICAgICAuc2V0TmFtZSgnTGVuZ3RoIG9mIHJhbmRvbSBJRCBudW1iZXInKVxuICAgICAgICAgICAgLnNldERlc2MoJ0hvdyBtYW55IGRpZ2l0cyB0byB1c2UgZm9yIHJhbmRvbSBJRCB3aGVuIHVzaW5nIGEgZml4ZWQgcHJlZml4JylcbiAgICAgICAgICAgIC5hZGRTbGlkZXIodGV4dCA9PiB0ZXh0XG4gICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnJhbmRvbUlETGVuZ3RoKVxuICAgICAgICAgICAgICAgIC5zZXRMaW1pdHMoMywgNiwgMSlcbiAgICAgICAgICAgICAgICAuc2V0RHluYW1pY1Rvb2x0aXAoKVxuICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MucmFuZG9tSURMZW5ndGggPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgICAgICAgLnNldE5hbWUoJ0luaXRpYWwgc2VxdWVudGlhbCBJRCBudW1iZXInKVxuICAgICAgICAgICAgLnNldERlc2MoJ1N0YXJ0IG51bWJlciBmb3Igc2VxdWVudGlhbCBJRFxcJ3MnKVxuICAgICAgICAgICAgLmFkZFNsaWRlcih0ZXh0ID0+IHRleHRcbiAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Muc2VxdWVudGlhbFN0YXJ0TnVtYmVyKVxuICAgICAgICAgICAgICAgIC5zZXRMaW1pdHMoMCwgMSwgMSlcbiAgICAgICAgICAgICAgICAuc2V0RHluYW1pY1Rvb2x0aXAoKVxuICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3Muc2VxdWVudGlhbFN0YXJ0TnVtYmVyID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgIH0pKTtcblxuICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgICAgICAgIC5zZXROYW1lKCdSZW1vdmUgdm93ZWxzJylcbiAgICAgICAgICAgIC5zZXREZXNjKCdSZW1vdmUgdm93ZWxzIGZyb20gdGhlIHByZWZpeCB3aGVuIGdldHRpbmcgZnJvbSB0aGUgZmlsZW5hbWUgb3IgYmxvY2sgbmFtZScpXG4gICAgICAgICAgICAuYWRkVG9nZ2xlKHRleHQgPT4gdGV4dFxuICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5yZW1vdmVWb3dlbHMpXG4gICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5yZW1vdmVWb3dlbHMgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgICAgICAgLnNldE5hbWUoJ0ZpcnN0IGxldHRlciBvZiB3b3JkcycpXG4gICAgICAgICAgICAuc2V0RGVzYygnT25seSB1c2UgdGhlIGZpcnN0IGxldHRlciBvZiB3b3JkcyB0byBmb3JtIHRoZSBwcmVmaXgnKVxuICAgICAgICAgICAgLmFkZFRvZ2dsZSh0ZXh0ID0+IHRleHRcbiAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZmlyc3RMZXR0ZXJzT2ZXb3JkcylcbiAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmZpcnN0TGV0dGVyc09mV29yZHMgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgICAgICAgLnNldE5hbWUoJ0F1dG9tYXRpY2FsbHkgYWRkIFRhZycpXG4gICAgICAgICAgICAuc2V0RGVzYygnQSB0YWcgdG8gYWRkIHRvIGVhY2ggdGFzayAtIGRvIG5vdCBpbmNsdWRlIHRoZSAjIHN5bWJvbCcpXG4gICAgICAgICAgICAuYWRkVGV4dCh0ZXh0ID0+IHRleHRcbiAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuYXV0b21hdGljVGFnTmFtZSlcbiAgICAgICAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoXCJUYWcgTmFtZVwiKVxuICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuYXV0b21hdGljVGFnTmFtZSA9IHZhbHVlLnJlcGxhY2VBbGwoJyMnLCAnJyk7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICB9XG59XG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsc0JBV087QUFHUCxJQUFNLFFBQVE7QUFFZCxJQUFNLGlCQUFpQjtBQW9CdkIsSUFBTSxtQkFBeUM7QUFBQSxFQUMzQyxnQkFBZ0I7QUFBQSxFQUNoQixlQUFlO0FBQUEsRUFDZixnQkFBZ0I7QUFBQSxFQUNoQix1QkFBdUI7QUFBQSxFQUN2QixjQUFjO0FBQUEsRUFDZCxxQkFBcUI7QUFBQSxFQUNyQixrQkFBa0I7QUFDdEI7QUFFQSxJQUFxQixlQUFyQixjQUEwQyx1QkFBTztBQUFBLEVBRzdDLE1BQU0sU0FBUztBQUNYLFFBQUk7QUFBTyxjQUFRLElBQUksd0JBQXdCO0FBRS9DLFVBQU0sS0FBSyxhQUFhO0FBRXhCLFNBQUssV0FBVztBQUFBLE1BQ1osSUFBSTtBQUFBLE1BQ0osTUFBTTtBQUFBLE1BQ04sZ0JBQWdCLENBQUMsUUFBUSxTQUFTO0FBQzlCLFlBQUksTUFBTSxPQUFPLGFBQWE7QUFDOUIsWUFBSSxRQUFRLEtBQUssV0FBVyxLQUFLLEtBQUssVUFBVSxRQUFRLElBQUksQ0FBQztBQUM3RCxlQUFPO0FBQUEsVUFDSCxHQUFHO0FBQUEsUUFDUDtBQUFBLE1BQ0o7QUFBQSxJQUNKLENBQUM7QUFFRCxTQUFLLFdBQVc7QUFBQSxNQUNaLElBQUk7QUFBQSxNQUNKLE1BQU07QUFBQSxNQUNOLGdCQUFnQixDQUFDLFFBQVEsU0FBUztBQUM5QixZQUFJLE1BQU0sT0FBTyxhQUFhO0FBQzlCLFlBQUksUUFBUSxLQUFLLGNBQWMsR0FBRztBQUNsQyxlQUFPO0FBQUEsVUFDSCxHQUFHO0FBQUEsUUFDUDtBQUFBLE1BQ0o7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
